<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent Architectures - Day 1: Foundations</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); min-height: 100vh; }
        .slide { min-height: 100vh; padding: 40px 60px; background: white; margin: 20px auto; max-width: 1400px; border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); page-break-after: always; }
        h1 { color: #0078d4; font-size: 2.4em; margin-bottom: 10px; border-bottom: 4px solid #0078d4; padding-bottom: 15px; }
        h2 { color: #323130; font-size: 1.6em; margin: 25px 0 15px; }
        h3 { color: #0078d4; font-size: 1.2em; margin: 20px 0 10px; }
        h4 { color: #323130; font-size: 1.05em; margin-bottom: 8px; }
        .subtitle { color: #605e5c; font-size: 1.1em; margin-bottom: 25px; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin: 20px 0; }
        .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin: 20px 0; }
        .card { background: #f3f2f1; border-radius: 8px; padding: 18px; border-left: 4px solid #0078d4; }
        .card.green { border-left-color: #107c10; background: #f0fff0; }
        .card.orange { border-left-color: #ff8c00; background: #fff8f0; }
        .card.purple { border-left-color: #8764b8; background: #f8f0ff; }
        .card.red { border-left-color: #d13438; background: #fff0f0; }
        .card.blue { border-left-color: #0078d4; background: #f0f8ff; }
        ul { margin-left: 20px; line-height: 1.7; }
        li { margin: 4px 0; }
        .highlight { background: #0078d4; color: white; padding: 3px 8px; border-radius: 4px; font-size: 0.85em; }
        .highlight.green { background: #107c10; }
        .highlight.orange { background: #ff8c00; }
        .highlight.red { background: #d13438; }
        .highlight.purple { background: #8764b8; }
        .time-badge { background: #107c10; color: white; padding: 5px 12px; border-radius: 20px; font-size: 0.85em; display: inline-block; margin-bottom: 15px; }
        .module-badge { background: #0078d4; color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.9em; display: inline-block; margin-bottom: 10px; }
        .lab-badge { background: #ff8c00; color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.9em; display: inline-block; margin-bottom: 10px; }
        .day-badge { background: #5c2d91; color: white; padding: 8px 20px; border-radius: 25px; font-size: 1.1em; display: inline-block; }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 0.95em; }
        th, td { padding: 10px 12px; text-align: left; border-bottom: 1px solid #edebe9; }
        th { background: #0078d4; color: white; }
        tr:hover { background: #f3f2f1; }
        .code-block { background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 8px; font-family: 'Consolas', monospace; font-size: 0.85em; overflow-x: auto; margin: 10px 0; white-space: pre-wrap; }
        .code-block .comment { color: #6a9955; }
        .code-block .keyword { color: #569cd6; }
        .code-block .string { color: #ce9178; }
        .code-block .function { color: #dcdcaa; }
        .tip-box { display: flex; align-items: flex-start; gap: 12px; padding: 15px; background: #e6f7ff; border-radius: 8px; margin: 10px 0; border-left: 4px solid #0078d4; }
        .warning-box { display: flex; align-items: flex-start; gap: 12px; padding: 15px; background: #fff4ce; border-radius: 8px; margin: 10px 0; border-left: 4px solid #ff8c00; }
        .danger-box { display: flex; align-items: flex-start; gap: 12px; padding: 15px; background: #fde7e9; border-radius: 8px; margin: 10px 0; border-left: 4px solid #d13438; }
        .success-box { display: flex; align-items: flex-start; gap: 12px; padding: 15px; background: #dff6dd; border-radius: 8px; margin: 10px 0; border-left: 4px solid #107c10; }
        .icon { font-size: 1.5em; }
        .banking-scenario { background: linear-gradient(135deg, #1a472a, #2d5a3d); color: white; padding: 20px; border-radius: 10px; margin: 15px 0; }
        .banking-scenario h4 { color: #90EE90; margin-bottom: 10px; }
        
        /* Notebook Styles */
        .notebook-header { background: linear-gradient(135deg, #F37626, #E8590C); color: white; padding: 15px 20px; border-radius: 8px 8px 0 0; display: flex; align-items: center; gap: 10px; }
        .notebook-cell { background: #f8f9fa; border: 1px solid #e1e4e8; border-top: none; padding: 15px; }
        .notebook-cell.code { background: #1e1e1e; color: #d4d4d4; font-family: 'Consolas', monospace; font-size: 0.85em; white-space: pre-wrap; }
        .notebook-cell.output { background: #fff; border-left: 3px solid #107c10; }
        .colab-badge { background: #F37626; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.8em; }
        .jupyter-badge { background: #F37626; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.8em; }
        .azure-badge { background: #0078d4; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.8em; }
        
        /* Decision Tree Styles */
        .tree-container { text-align: center; padding: 20px; background: #f8f9fa; border-radius: 12px; margin: 20px 0; }
        .tree-node { display: inline-block; padding: 15px 25px; border-radius: 8px; margin: 5px; font-weight: 500; }
        .tree-decision { background: #fff4ce; border: 2px solid #ff8c00; border-radius: 50px; }
        .tree-workflow { background: #e6f7ff; border: 2px solid #0078d4; }
        .tree-agent { background: #f8f0ff; border: 2px solid #8764b8; }
        .tree-row { margin: 10px 0; }
        .tree-connector { color: #666; font-size: 1.2em; margin: 5px 0; }
        .tree-branch { display: inline-flex; gap: 40px; margin-top: 10px; }
        
        /* Pipeline Styles */
        .pipeline { display: flex; align-items: center; justify-content: center; gap: 0; margin: 30px 0; flex-wrap: wrap; }
        .pipeline-step { position: relative; padding: 20px 25px; min-width: 130px; text-align: center; color: white; }
        .pipeline-step::after { content: ''; position: absolute; right: -15px; top: 50%; transform: translateY(-50%); border: 15px solid transparent; border-left: 15px solid; z-index: 1; }
        .pipeline-step.blue { background: #0078d4; }
        .pipeline-step.blue::after { border-left-color: #0078d4; }
        .pipeline-step.purple { background: #8764b8; }
        .pipeline-step.purple::after { border-left-color: #8764b8; }
        .pipeline-step.orange { background: #ff8c00; }
        .pipeline-step.orange::after { border-left-color: #ff8c00; }
        .pipeline-step.green { background: #107c10; }
        .pipeline-step.green::after { border-left-color: #107c10; }
        .pipeline-step:last-child::after { display: none; }
        .pipeline-step small { display: block; opacity: 0.9; font-size: 0.8em; margin-top: 5px; }
        .pipeline-label { font-size: 0.7em; position: absolute; top: -18px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 2px 8px; border-radius: 10px; }
        
        /* Vertical Steps */
        .vsteps { max-width: 700px; margin: 20px auto; }
        .vstep { display: flex; gap: 20px; margin: 15px 0; }
        .vstep-num { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; flex-shrink: 0; font-size: 1.1em; }
        .vstep-content { flex: 1; padding: 15px 20px; border-radius: 8px; }
        .vstep-content h4 { margin: 0 0 8px 0; }
        .vstep-content p { margin: 0; font-size: 0.9em; color: #555; }
        .vstep-connector { width: 50px; display: flex; justify-content: center; margin: -5px 0; }
        .vstep-connector::before { content: ''; width: 3px; height: 25px; background: #ddd; }
        
        /* Architecture Layers */
        .arch-container { max-width: 900px; margin: 20px auto; }
        .arch-layer { margin: 0; padding: 25px; border-radius: 0; position: relative; }
        .arch-layer:first-child { border-radius: 12px 12px 0 0; }
        .arch-layer:last-child { border-radius: 0 0 12px 12px; }
        .arch-layer-title { position: absolute; top: -12px; left: 20px; background: white; padding: 4px 15px; border-radius: 20px; font-weight: bold; font-size: 0.85em; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .arch-services { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-top: 10px; }
        .arch-service { background: white; padding: 15px 20px; border-radius: 8px; text-align: center; min-width: 120px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .arch-service-icon { font-size: 1.8em; margin-bottom: 8px; }
        .arch-service-name { font-weight: 600; font-size: 0.9em; }
        .arch-service-desc { font-size: 0.75em; color: #666; margin-top: 4px; }
        .arch-connector { text-align: center; font-size: 1.5em; margin: -5px 0; position: relative; z-index: 10; }
        .layer-blue { background: linear-gradient(135deg, #e3f2fd, #bbdefb); }
        .layer-purple { background: linear-gradient(135deg, #f3e5f5, #e1bee7); }
        .layer-green { background: linear-gradient(135deg, #e8f5e9, #c8e6c9); }
        
        /* Comparison Cards */
        .compare-container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
        .compare-card { border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .compare-header { padding: 20px; color: white; text-align: center; }
        .compare-body { padding: 20px; background: white; }
        .compare-item { display: flex; align-items: center; gap: 10px; padding: 10px 0; border-bottom: 1px solid #eee; }
        .compare-item:last-child { border-bottom: none; }
        .compare-icon { font-size: 1.3em; }
        
        @media print { .slide { box-shadow: none; margin: 0; page-break-after: always; } body { background: white; } }
    </style>
</head>
<body>

<!-- SLIDE 1: Day 1 Title -->
<div class="slide">
    <div style="display: flex; flex-direction: column; justify-content: center; height: 85vh; text-align: center;">
        <span class="day-badge" style="margin-bottom: 30px;">DAY 1</span>
        <p style="color: #0078d4; font-size: 1.2em; margin-bottom: 20px;">Azure AI Workshop Series</p>
        <h1 style="font-size: 3em; border: none; text-align: center; color: #1a1a2e;">AI Agent Architectures</h1>
        <p class="subtitle" style="font-size: 1.5em; margin: 20px 0; color: #0078d4;">Foundations: Mental Models, Taxonomy, Planning, Memory & RAG</p>
        <p style="color: #605e5c; font-size: 1.1em; margin-top: 30px;">Building the Conceptual Foundation for Banking AI Agents</p>
        <div style="margin-top: 40px;">
            <span class="time-badge" style="font-size: 1em; padding: 12px 30px;">Half Day | Modules 0-4</span>
        </div>
        <div style="margin-top: 30px;">
            <span class="highlight">Agent vs Workflow</span>
            <span class="highlight purple">Agent Taxonomy</span>
            <span class="highlight green">Planning Patterns</span>
            <span class="highlight orange">Memory Systems</span>
            <span class="highlight" style="background: #d13438;">RAG & Vector DBs</span>
        </div>
        <div style="margin-top: 30px;">
            <span class="colab-badge">Google Colab</span>
            <span class="jupyter-badge">JupyterLab</span>
            <span class="azure-badge">Azure AI Foundry</span>
        </div>
        <p style="margin-top: 40px; color: #8a8886;">Prerequisites: Prompt Engineering Workshop Completed</p>
    </div>
</div>


<!-- SLIDE 2: Day 1 Agenda -->
<div class="slide">
    <h1>üìã Day 1: Foundations Agenda</h1>
    <p class="subtitle">Building Mental Models for Agent Architecture</p>
    
    <table>
        <tr><th>Module</th><th>Topic</th><th>Theory</th><th>Lab</th><th>Notebook</th></tr>
        <tr><td><span class="highlight">0</span></td><td>Mental Models: Agent vs Workflow</td><td>15 min</td><td>15 min</td><td><code>01_agent_vs_workflow.ipynb</code></td></tr>
        <tr><td><span class="highlight">1</span></td><td>Agent Taxonomy & Classification</td><td>20 min</td><td>25 min</td><td><code>02_agent_taxonomy.ipynb</code></td></tr>
        <tr><td><span class="highlight">2</span></td><td>Planning Patterns (ReAct, Plan-Execute)</td><td>30 min</td><td>30 min</td><td><code>03_planning_patterns.ipynb</code></td></tr>
        <tr><td><span class="highlight">3</span></td><td>Memory Systems & State Management</td><td>25 min</td><td>20 min</td><td><code>04_memory_systems.ipynb</code></td></tr>
        <tr><td><span class="highlight red">4</span></td><td>RAG Fundamentals & Vector Databases</td><td>30 min</td><td>25 min</td><td><code>15_rag_fundamentals.ipynb</code></td></tr>
    </table>
    
    <div class="tip-box" style="margin-top: 15px;">
        <span class="icon">üìì</span>
        <div>
            <strong>Setup Required:</strong> Before starting, run <code>00_setup.ipynb</code> to configure Azure OpenAI credentials.
        </div>
    </div>

    <div class="grid-2" style="margin-top: 25px;">
        <div class="card green">
            <h4>üéØ Day 1 Learning Objectives</h4>
            <ul>
                <li>Distinguish agents from workflows confidently</li>
                <li>Classify agents by autonomy, tools, and collaboration</li>
                <li>Implement ReAct and Plan-Execute patterns</li>
                <li>Design memory systems for stateful banking agents</li>
                <li>Build RAG pipelines with Azure AI Search</li>
            </ul>
        </div>
        <div class="card purple">
            <h4>üíª Lab Environment</h4>
            <ul>
                <li><strong>Google Colab:</strong> Primary notebook environment</li>
                <li><strong>Azure OpenAI:</strong> GPT-4o API access provided</li>
                <li><strong>Notebooks:</strong> <code>00_setup.ipynb</code> through <code>15_rag_fundamentals.ipynb</code></li>
            </ul>
        </div>
    </div>
    
    <div class="card blue" style="margin-top: 15px;">
        <h4>üîó Azure Documentation</h4>
        <ul style="column-count: 2;">
            <li><a href="https://learn.microsoft.com/azure/ai-services/openai/" target="_blank">Azure OpenAI Service</a></li>
            <li><a href="https://learn.microsoft.com/azure/ai-studio/" target="_blank">Azure AI Foundry (AI Studio)</a></li>
            <li><a href="https://learn.microsoft.com/semantic-kernel/" target="_blank">Semantic Kernel Docs</a></li>
            <li><a href="https://learn.microsoft.com/azure/cosmos-db/" target="_blank">Azure Cosmos DB</a></li>
            <li><a href="https://learn.microsoft.com/azure/search/" target="_blank">Azure AI Search</a></li>
            <li><a href="https://learn.microsoft.com/azure/ai-services/openai/concepts/understand-embeddings" target="_blank">Azure OpenAI Embeddings</a></li>
        </ul>
    </div>

    <div class="tip-box">
        <span class="icon">üí°</span>
        <div>
            <strong>Lab Approach:</strong> Each module includes a hands-on notebook. Code is copy-paste ready with Azure OpenAI integration. All examples use banking scenarios.
        </div>
    </div>
</div>

<!-- SLIDE 3: Module 0 - Mental Models -->
<div class="slide">
    <span class="module-badge">Module 0 - Theory</span>
    <span class="time-badge">15 Minutes</span>
    <h1>üß† Mental Models: Agent vs Workflow</h1>
    <p class="subtitle">The Foundation for Every Architecture Decision</p>

    <h2>Learning Objectives</h2>
    <ul>
        <li>Distinguish between agents and workflows with confidence</li>
        <li>Apply the "decision authority" mental model to banking scenarios</li>
        <li>Identify when to use agents vs workflows in production systems</li>
    </ul>

    <!-- Side-by-Side Comparison -->
    <div class="compare-container">
        <div class="compare-card">
            <div class="compare-header" style="background: linear-gradient(135deg, #0078d4, #106ebe);">
                <h3 style="margin: 0; color: white;">üîÑ WORKFLOW</h3>
                <p style="margin: 5px 0 0 0; opacity: 0.9; font-size: 0.9em;">Deterministic Execution</p>
            </div>
            <div class="compare-body">
                <div class="compare-item"><span class="compare-icon">üìã</span> Steps known at design time</div>
                <div class="compare-item"><span class="compare-icon">üîÄ</span> Branching is explicit and finite</div>
                <div class="compare-item"><span class="compare-icon">üë®‚Äçüíª</span> Human designs the decision tree</div>
                <div class="compare-item"><span class="compare-icon">‚úÖ</span> Predictable execution path</div>
                <div class="compare-item"><span class="compare-icon">‚ö°</span> Fast (milliseconds)</div>
            </div>
        </div>
        <div class="compare-card">
            <div class="compare-header" style="background: linear-gradient(135deg, #8764b8, #6b4f91);">
                <h3 style="margin: 0; color: white;">ü§ñ AGENT</h3>
                <p style="margin: 5px 0 0 0; opacity: 0.9; font-size: 0.9em;">LLM-Driven Reasoning</p>
            </div>
            <div class="compare-body">
                <div class="compare-item"><span class="compare-icon">üß†</span> Decisions made at runtime by LLM</div>
                <div class="compare-item"><span class="compare-icon">üîÑ</span> Can handle novel situations</div>
                <div class="compare-item"><span class="compare-icon">ü§ñ</span> LLM decides next action</div>
                <div class="compare-item"><span class="compare-icon">üåü</span> Emergent behavior possible</div>
                <div class="compare-item"><span class="compare-icon">‚è±Ô∏è</span> Slower (seconds)</div>
            </div>
        </div>
    </div>

    <div class="tip-box">
        <span class="icon">üí°</span>
        <div>
            <strong>Key Question:</strong> "Who decides the next step - the code or the LLM?"<br>
            <strong>Workflow:</strong> Code decides (if/else, switch, state machine)<br>
            <strong>Agent:</strong> LLM decides (based on context, goals, available tools)
        </div>
    </div>
</div>


<!-- SLIDE 4: Decision Tree - Agent vs Workflow -->
<div class="slide">
    <span class="module-badge">Module 0</span>
    <h1>üå≥ Decision Tree: Agent vs Workflow Selection</h1>
    <p class="subtitle">Use This Framework for Every Banking Use Case</p>

    <div class="tree-container">
        <div class="tree-row">
            <div class="tree-node tree-decision">ü§î Is the task deterministic?<br><small>Same input ‚Üí Same steps every time?</small></div>
        </div>
        <div class="tree-connector">‚ÜôÔ∏è YES &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NO ‚ÜòÔ∏è</div>
        <div class="tree-branch">
            <div style="text-align: center;">
                <div class="tree-node tree-workflow">‚úÖ Use <strong>WORKFLOW</strong></div>
                <div style="margin-top: 15px; text-align: left; font-size: 0.9em; background: #e6f7ff; padding: 15px; border-radius: 8px;">
                    <strong>Banking Examples:</strong><br>
                    ‚Ä¢ Payment processing<br>
                    ‚Ä¢ Balance checks<br>
                    ‚Ä¢ Statement generation<br>
                    ‚Ä¢ Interest calculation
                </div>
            </div>
            <div style="text-align: center;">
                <div class="tree-node tree-decision">ü§î Does it require reasoning?<br><small>Analysis, judgment, investigation?</small></div>
                <div class="tree-connector" style="font-size: 1em;">‚ÜôÔ∏è YES &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NO ‚ÜòÔ∏è</div>
                <div class="tree-branch" style="gap: 20px;">
                    <div>
                        <div class="tree-node tree-agent">ü§ñ Use <strong>AGENT</strong></div>
                        <div style="margin-top: 10px; font-size: 0.85em; background: #f8f0ff; padding: 12px; border-radius: 8px;">
                            ‚Ä¢ Fraud investigation<br>
                            ‚Ä¢ Complex underwriting<br>
                            ‚Ä¢ Customer complaints
                        </div>
                    </div>
                    <div>
                        <div class="tree-node tree-workflow">‚úÖ Use <strong>WORKFLOW</strong></div>
                        <div style="margin-top: 10px; font-size: 0.85em; background: #e6f7ff; padding: 12px; border-radius: 8px;">
                            ‚Ä¢ Simple routing<br>
                            ‚Ä¢ Data lookup<br>
                            ‚Ä¢ Notifications
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="warning-box">
        <span class="icon">‚ö†Ô∏è</span>
        <div>
            <strong>Common Mistake:</strong> Using agents for high-volume, deterministic tasks<br>
            <strong>Impact:</strong> 100x cost increase, unpredictable latency, compliance risk<br>
            <strong>Fix:</strong> Start with workflow, add agent only for decision points requiring reasoning
        </div>
    </div>
</div>

<!-- SLIDE 5: Hybrid Pipeline - Loan Processing -->
<div class="slide">
    <span class="module-badge">Module 0</span>
    <h1>üîÄ Hybrid Pattern: Loan Application Pipeline</h1>
    <p class="subtitle">Production Reality: Workflows with Agent Decision Points</p>

    <div class="banking-scenario">
        <h4>üè¶ Case Study: Loan Application Processing</h4>
        <p>Most production systems combine workflows (for structure) with agents (for reasoning). Here's how a real loan pipeline works:</p>
    </div>

    <div class="pipeline">
        <div class="pipeline-step blue">
            <span class="pipeline-label">WORKFLOW</span>
            üìÑ Collect Docs
            <small>Checklist</small>
        </div>
        <div class="pipeline-step blue">
            <span class="pipeline-label">WORKFLOW</span>
            üîç Extract Data
            <small>Doc Intelligence</small>
        </div>
        <div class="pipeline-step blue">
            <span class="pipeline-label">WORKFLOW</span>
            üìä Credit Check
            <small>API Call</small>
        </div>
        <div class="pipeline-step purple">
            <span class="pipeline-label">AGENT</span>
            ü§ñ Risk Analysis
            <small>LLM Reasoning</small>
        </div>
        <div class="pipeline-step orange">
            <span class="pipeline-label">DECISION</span>
            ‚ö° Route
            <small>Rules Engine</small>
        </div>
        <div class="pipeline-step green">
            <span class="pipeline-label">OUTPUT</span>
            ‚úÖ Result
            <small>Approve/Deny</small>
        </div>
    </div>

    <div class="grid-3" style="margin-top: 30px;">
        <div style="text-align: center; padding: 20px; background: #dff6dd; border-radius: 8px;">
            <div style="font-size: 2em;">üìä</div>
            <strong>Score > 80</strong><br>
            <span class="highlight green">Auto-Approve</span><br>
            <small>No human needed</small>
        </div>
        <div style="text-align: center; padding: 20px; background: #fff4ce; border-radius: 8px;">
            <div style="font-size: 2em;">üë§</div>
            <strong>Score 50-80</strong><br>
            <span class="highlight orange">Human Review</span><br>
            <small>Queue for underwriter</small>
        </div>
        <div style="text-align: center; padding: 20px; background: #f8f0ff; border-radius: 8px;">
            <div style="font-size: 2em;">ü§ñ</div>
            <strong>Score < 50</strong><br>
            <span class="highlight purple">Agent Explains</span><br>
            <small>Generate decline letter</small>
        </div>
    </div>

    <div class="success-box" style="margin-top: 20px;">
        <span class="icon">‚úÖ</span>
        <div>
            <strong>Why This Works:</strong> Deterministic steps are fast & cheap (~$0.001). Agent only invoked for complex decisions (~$0.02). Full audit trail maintained. <strong>Total cost: ~$0.02 per application</strong> (vs $0.50 for full-agent approach).
        </div>
    </div>
</div>


<!-- SLIDE 6: Module 0 Lab -->
<div class="slide">
    <span class="lab-badge">Module 0 - Lab</span>
    <span class="time-badge">15 Minutes</span>
    <h1>üî¨ Lab: Build Your First Agent vs Workflow</h1>
    <p class="subtitle">Hands-On: See the Difference in Code</p>

    <div class="notebook-header">
        <span>üìì</span> <strong>01_agent_vs_workflow.ipynb</strong> <span class="colab-badge" style="margin-left: auto;">Open in Colab</span>
    </div>
    <div class="notebook-cell code"><span class="comment"># WORKFLOW: Deterministic Wire Transfer Validation</span>
<span class="keyword">def</span> <span class="function">workflow_wire_transfer</span>(amount: float, balance: float, recipient: str) -> dict:
    <span class="string">"""Workflow: Code decides every step"""</span>
    
    <span class="comment"># Step 1: Validate amount (CODE DECIDES)</span>
    <span class="keyword">if</span> amount <= 0:
        <span class="keyword">return</span> {<span class="string">"status"</span>: <span class="string">"rejected"</span>, <span class="string">"reason"</span>: <span class="string">"Invalid amount"</span>}
    
    <span class="comment"># Step 2: Check balance (CODE DECIDES)</span>
    <span class="keyword">if</span> amount > balance:
        <span class="keyword">return</span> {<span class="string">"status"</span>: <span class="string">"rejected"</span>, <span class="string">"reason"</span>: <span class="string">"Insufficient funds"</span>}
    
    <span class="comment"># Step 3: Sanctions check (CODE DECIDES)</span>
    <span class="keyword">if</span> recipient <span class="keyword">in</span> SANCTIONS_LIST:
        <span class="keyword">return</span> {<span class="string">"status"</span>: <span class="string">"blocked"</span>, <span class="string">"reason"</span>: <span class="string">"Sanctions match"</span>}
    
    <span class="keyword">return</span> {<span class="string">"status"</span>: <span class="string">"approved"</span>, <span class="string">"new_balance"</span>: balance - amount}

result = workflow_wire_transfer(amount=5000, balance=10000, recipient=<span class="string">"ACME Corp"</span>)
print(f<span class="string">"Workflow Result: {result}"</span>)</div>
    <div class="notebook-cell output">Workflow Result: {'status': 'approved', 'new_balance': 5000}
<span style="color: #6a9955;">// Deterministic: Same input always produces same output</span></div>

    <div class="notebook-cell code"><span class="comment"># AGENT: LLM Decides Investigation Path</span>
<span class="keyword">def</span> <span class="function">agent_fraud_investigation</span>(alert: dict) -> dict:
    <span class="string">"""Agent: LLM decides what to do next"""</span>
    
    response = client.chat.completions.create(
        model=<span class="string">"gpt-4o"</span>,
        messages=[{
            <span class="string">"role"</span>: <span class="string">"system"</span>,
            <span class="string">"content"</span>: <span class="string">"You are a fraud investigator. Decide what data to gather."</span>
        }, {
            <span class="string">"role"</span>: <span class="string">"user"</span>,
            <span class="string">"content"</span>: f<span class="string">"Investigate: {alert}"</span>
        }],
        tools=fraud_tools  <span class="comment"># LLM CHOOSES which tools to call</span>
    )
    <span class="keyword">return</span> response.choices[0].message

alert = {<span class="string">"type"</span>: <span class="string">"large_transfer"</span>, <span class="string">"amount"</span>: 45000}
result = agent_fraud_investigation(alert)</div>
    <div class="notebook-cell output">Agent decided to call: get_transaction_history(customer_id='C-789', days=90)
<span style="color: #6a9955;">// Dynamic: LLM chose this tool - it wasn't hardcoded!</span></div>

    <div class="tip-box">
        <span class="icon">üéØ</span>
        <div>
            <strong>Exercise:</strong> Modify the agent to investigate a different alert type. Notice how the LLM chooses different tools based on the alert content.
        </div>
    </div>
</div>

<!-- SLIDE 7: Agentic Systems Overview (Anthropic) -->
<div class="slide">
    <span class="module-badge">Module 0 - Deep Dive</span>
    <h1>üèóÔ∏è Agentic Systems: The Building Blocks</h1>
    <p class="subtitle">Key Insight: Start Simple, Add Complexity Only When Needed</p>

    <div class="tip-box" style="margin-bottom: 20px;">
        <span class="icon">üí°</span>
        <div>
            <strong>Core Principle:</strong> "Agents" can be understood as LLMs using tools in a loop. The key is knowing when you need that loop vs. simpler patterns.
        </div>
    </div>

    <h3>The Agentic Spectrum</h3>
    <div style="display: flex; align-items: center; margin: 25px 0; padding: 20px; background: linear-gradient(90deg, #e6f7ff 0%, #f8f0ff 100%); border-radius: 12px;">
        <div style="flex: 1; text-align: center; padding: 15px;">
            <div style="font-size: 2em;">üìù</div>
            <strong>Simple LLM Call</strong>
            <p style="font-size: 0.85em; color: #666;">Single prompt ‚Üí response</p>
        </div>
        <div style="font-size: 2em; color: #999;">‚Üí</div>
        <div style="flex: 1; text-align: center; padding: 15px;">
            <div style="font-size: 2em;">üîó</div>
            <strong>Prompt Chaining</strong>
            <p style="font-size: 0.85em; color: #666;">Sequential LLM calls</p>
        </div>
        <div style="font-size: 2em; color: #999;">‚Üí</div>
        <div style="flex: 1; text-align: center; padding: 15px;">
            <div style="font-size: 2em;">üîÄ</div>
            <strong>Routing</strong>
            <p style="font-size: 0.85em; color: #666;">LLM picks the path</p>
        </div>
        <div style="font-size: 2em; color: #999;">‚Üí</div>
        <div style="flex: 1; text-align: center; padding: 15px;">
            <div style="font-size: 2em;">‚öôÔ∏è</div>
            <strong>Tool Use</strong>
            <p style="font-size: 0.85em; color: #666;">LLM calls functions</p>
        </div>
        <div style="font-size: 2em; color: #999;">‚Üí</div>
        <div style="flex: 1; text-align: center; padding: 15px; background: #f8f0ff; border-radius: 8px; border: 2px solid #8764b8;">
            <div style="font-size: 2em;">ü§ñ</div>
            <strong>Autonomous Agent</strong>
            <p style="font-size: 0.85em; color: #666;">Tools in a loop</p>
        </div>
    </div>

    <div class="grid-2">
        <div class="card green">
            <h4>‚úÖ When to Use Simpler Patterns</h4>
            <ul>
                <li>Task is well-defined and predictable</li>
                <li>You need consistent, fast responses</li>
                <li>Cost and latency are critical</li>
                <li>You can decompose into clear steps</li>
            </ul>
        </div>
        <div class="card purple">
            <h4>ü§ñ When to Use Agents</h4>
            <ul>
                <li>Problem requires exploration/discovery</li>
                <li>Number of steps unknown upfront</li>
                <li>Need to adapt based on findings</li>
                <li>Human-like judgment required</li>
            </ul>
        </div>
    </div>

    <div class="warning-box" style="margin-top: 15px;">
        <span class="icon">‚ö†Ô∏è</span>
        <div>
            <strong>Common Mistake:</strong> Jumping to agents when a simple workflow would suffice. More complexity = more cost, latency, and potential failure points.
        </div>
    </div>
</div>


<!-- SLIDE 8: Workflow Patterns (Anthropic) -->
<div class="slide">
    <span class="module-badge">Module 0 - Patterns</span>
    <h1>üîó Workflow Patterns: Building Blocks</h1>
    <p class="subtitle">Five Foundational Patterns Before You Need Agents</p>

    <div class="grid-2">
        <!-- Pattern 1: Prompt Chaining -->
        <div class="card blue">
            <h4>1Ô∏è‚É£ Prompt Chaining</h4>
            <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0; text-align: center;">
                <span style="background: #0078d4; color: white; padding: 8px 15px; border-radius: 4px;">LLM 1</span>
                <span style="margin: 0 10px;">‚Üí</span>
                <span style="background: #107c10; color: white; padding: 8px 15px; border-radius: 4px;">Gate</span>
                <span style="margin: 0 10px;">‚Üí</span>
                <span style="background: #0078d4; color: white; padding: 8px 15px; border-radius: 4px;">LLM 2</span>
            </div>
            <p><strong>Use when:</strong> Task naturally decomposes into sequential steps</p>
            <p><strong>Banking:</strong> Extract data ‚Üí Validate ‚Üí Generate response</p>
        </div>

        <!-- Pattern 2: Routing -->
        <div class="card green">
            <h4>2Ô∏è‚É£ Routing</h4>
            <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0; text-align: center;">
                <span style="background: #ff8c00; color: white; padding: 8px 15px; border-radius: 4px;">Classifier</span>
                <span style="margin: 0 10px;">‚Üí</span>
                <div style="display: inline-flex; flex-direction: column; gap: 5px;">
                    <span style="background: #0078d4; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.85em;">Path A</span>
                    <span style="background: #107c10; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.85em;">Path B</span>
                    <span style="background: #8764b8; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.85em;">Path C</span>
                </div>
            </div>
            <p><strong>Use when:</strong> Different inputs need different handling</p>
            <p><strong>Banking:</strong> Route to fraud, support, or sales specialist</p>
        </div>

        <!-- Pattern 3: Parallelization -->
        <div class="card purple">
            <h4>3Ô∏è‚É£ Parallelization</h4>
            <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0; text-align: center;">
                <div style="display: flex; justify-content: center; gap: 10px; margin-bottom: 10px;">
                    <span style="background: #0078d4; color: white; padding: 8px 12px; border-radius: 4px;">LLM</span>
                    <span style="background: #0078d4; color: white; padding: 8px 12px; border-radius: 4px;">LLM</span>
                    <span style="background: #0078d4; color: white; padding: 8px 12px; border-radius: 4px;">LLM</span>
                </div>
                <span style="margin: 0 10px;">‚Üì</span>
                <span style="background: #107c10; color: white; padding: 8px 15px; border-radius: 4px;">Aggregate</span>
            </div>
            <p><strong>Use when:</strong> Subtasks are independent</p>
            <p><strong>Banking:</strong> Check credit, income, and identity in parallel</p>
        </div>

        <!-- Pattern 4: Orchestrator-Workers -->
        <div class="card orange">
            <h4>4Ô∏è‚É£ Orchestrator-Workers</h4>
            <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0; text-align: center;">
                <span style="background: #ff8c00; color: white; padding: 8px 15px; border-radius: 4px;">Orchestrator</span>
                <div style="margin: 10px 0;">‚Üì delegates ‚Üì</div>
                <div style="display: flex; justify-content: center; gap: 10px;">
                    <span style="background: #8764b8; color: white; padding: 6px 10px; border-radius: 4px; font-size: 0.85em;">Worker 1</span>
                    <span style="background: #8764b8; color: white; padding: 6px 10px; border-radius: 4px; font-size: 0.85em;">Worker 2</span>
                </div>
            </div>
            <p><strong>Use when:</strong> Tasks can't be predicted upfront</p>
            <p><strong>Banking:</strong> Complex loan with variable document needs</p>
        </div>
    </div>

    <!-- Pattern 5: Evaluator-Optimizer -->
    <div class="card red" style="margin-top: 15px;">
        <h4>5Ô∏è‚É£ Evaluator-Optimizer Loop</h4>
        <div style="display: flex; align-items: center; justify-content: center; gap: 20px; padding: 15px;">
            <span style="background: #0078d4; color: white; padding: 10px 20px; border-radius: 4px;">Generator LLM</span>
            <span style="font-size: 1.5em;">‚ü∑</span>
            <span style="background: #d13438; color: white; padding: 10px 20px; border-radius: 4px;">Evaluator LLM</span>
        </div>
        <p style="text-align: center;"><strong>Use when:</strong> Clear evaluation criteria exist and iterative refinement adds value</p>
        <p style="text-align: center;"><strong>Banking:</strong> Draft compliance report ‚Üí Review for gaps ‚Üí Refine</p>
    </div>
</div>


<!-- SLIDE 9: Agent Factory Patterns (Azure) -->
<div class="slide">
    <span class="module-badge">Module 0 - Azure Patterns</span>
    <h1>üè≠ Agent Factory: Enterprise Design Patterns</h1>
    <p class="subtitle">Production-Ready Patterns for Banking AI Agents</p>

    <div class="banking-scenario">
        <h4>üè¶ The Agent Factory Approach</h4>
        <p>Move from ad-hoc agent development to systematic, scalable agent production with standardized patterns.</p>
    </div>

    <h3>Core Agent Patterns for Banking</h3>
    <div class="grid-3">
        <div class="card blue">
            <h4>üîÑ Retrieval Agent</h4>
            <p>Combines RAG with reasoning</p>
            <ul style="font-size: 0.9em;">
                <li>Policy lookup</li>
                <li>Product information</li>
                <li>Compliance queries</li>
            </ul>
            <div style="margin-top: 10px; padding: 8px; background: #e6f7ff; border-radius: 4px; font-size: 0.85em;">
                <strong>Azure:</strong> AI Search + OpenAI
            </div>
        </div>
        <div class="card green">
            <h4>‚ö° Action Agent</h4>
            <p>Executes operations via tools</p>
            <ul style="font-size: 0.9em;">
                <li>Account updates</li>
                <li>Transaction processing</li>
                <li>Case management</li>
            </ul>
            <div style="margin-top: 10px; padding: 8px; background: #dff6dd; border-radius: 4px; font-size: 0.85em;">
                <strong>Azure:</strong> Functions + Logic Apps
            </div>
        </div>
        <div class="card purple">
            <h4>üß† Reasoning Agent</h4>
            <p>Complex analysis & decisions</p>
            <ul style="font-size: 0.9em;">
                <li>Risk assessment</li>
                <li>Fraud investigation</li>
                <li>Credit decisions</li>
            </ul>
            <div style="margin-top: 10px; padding: 8px; background: #f8f0ff; border-radius: 4px; font-size: 0.85em;">
                <strong>Azure:</strong> GPT-4o + Prompty
            </div>
        </div>
    </div>

    <h3 style="margin-top: 25px;">Multi-Agent Orchestration Patterns</h3>
    <div class="grid-2">
        <div class="card orange">
            <h4>üéØ Supervisor Pattern</h4>
            <div style="text-align: center; padding: 10px;">
                <div style="background: #ff8c00; color: white; padding: 10px; border-radius: 8px; display: inline-block;">Supervisor Agent</div>
                <div style="margin: 10px 0;">‚Üì coordinates ‚Üì</div>
                <div style="display: flex; justify-content: center; gap: 15px;">
                    <div style="background: #f3f2f1; padding: 8px; border-radius: 4px; font-size: 0.85em;">Agent A</div>
                    <div style="background: #f3f2f1; padding: 8px; border-radius: 4px; font-size: 0.85em;">Agent B</div>
                    <div style="background: #f3f2f1; padding: 8px; border-radius: 4px; font-size: 0.85em;">Agent C</div>
                </div>
            </div>
            <p style="font-size: 0.9em;"><strong>Best for:</strong> Clear hierarchy, controlled delegation</p>
        </div>
        <div class="card" style="border-left-color: #0078d4;">
            <h4>üîÑ Swarm Pattern</h4>
            <div style="text-align: center; padding: 10px;">
                <div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">
                    <div style="background: #e6f7ff; padding: 8px; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">A</div>
                    <div style="background: #dff6dd; padding: 8px; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">B</div>
                    <div style="background: #f8f0ff; padding: 8px; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">C</div>
                </div>
                <div style="margin-top: 10px; font-size: 0.85em;">‚ü∑ peer-to-peer handoffs ‚ü∑</div>
            </div>
            <p style="font-size: 0.9em;"><strong>Best for:</strong> Dynamic routing, specialized handoffs</p>
        </div>
    </div>
</div>


<!-- SLIDE 10: Agent Design Best Practices -->
<div class="slide">
    <span class="module-badge">Module 0 - Best Practices</span>
    <h1>‚ú® Agent Design: Key Success Factors</h1>
    <p class="subtitle">Lessons from Production Agent Deployments</p>

    <div class="grid-2">
        <div class="card green">
            <h4>‚úÖ DO: Keep It Simple</h4>
            <ul>
                <li><strong>Minimal tools:</strong> Only what's needed for the task</li>
                <li><strong>Clear descriptions:</strong> Tools should be self-documenting</li>
                <li><strong>Focused scope:</strong> One agent, one responsibility</li>
                <li><strong>Explicit examples:</strong> Show the agent what good looks like</li>
            </ul>
        </div>
        <div class="card red">
            <h4>‚ùå DON'T: Over-Engineer</h4>
            <ul>
                <li><strong>Avoid:</strong> Agents when workflows suffice</li>
                <li><strong>Avoid:</strong> Too many tools (cognitive overload)</li>
                <li><strong>Avoid:</strong> Vague instructions ("be helpful")</li>
                <li><strong>Avoid:</strong> Unbounded loops without limits</li>
            </ul>
        </div>
    </div>

    <h3>The Three Pillars of Effective Agents</h3>
    <div class="grid-3" style="margin-top: 15px;">
        <div style="text-align: center; padding: 20px; background: linear-gradient(135deg, #e6f7ff, #bbdefb); border-radius: 12px;">
            <div style="font-size: 2.5em; margin-bottom: 10px;">üéØ</div>
            <h4 style="color: #0078d4;">Clear Instructions</h4>
            <p style="font-size: 0.9em;">Detailed system prompts with examples, edge cases, and explicit boundaries</p>
        </div>
        <div style="text-align: center; padding: 20px; background: linear-gradient(135deg, #dff6dd, #c8e6c9); border-radius: 12px;">
            <div style="font-size: 2.5em; margin-bottom: 10px;">üîß</div>
            <h4 style="color: #107c10;">Well-Designed Tools</h4>
            <p style="font-size: 0.9em;">Atomic operations, clear parameters, informative error messages</p>
        </div>
        <div style="text-align: center; padding: 20px; background: linear-gradient(135deg, #f8f0ff, #e1bee7); border-radius: 12px;">
            <div style="font-size: 2.5em; margin-bottom: 10px;">üõ°Ô∏è</div>
            <h4 style="color: #8764b8;">Robust Guardrails</h4>
            <p style="font-size: 0.9em;">Input validation, output filtering, human escalation paths</p>
        </div>
    </div>

    <div class="warning-box" style="margin-top: 20px;">
        <span class="icon">üí∞</span>
        <div>
            <strong>Cost Reality:</strong> Each agent loop iteration = 1 LLM call. A 10-step investigation = ~$0.10-0.30. Design for efficiency: can you achieve the same with 3 steps?
        </div>
    </div>

    <div class="success-box" style="margin-top: 15px;">
        <span class="icon">üéØ</span>
        <div>
            <strong>Golden Rule:</strong> "Maintain the same level of model autonomy as the task requires‚Äîno more, no less."
        </div>
    </div>
</div>


<!-- SLIDE 11: Human-in-the-Loop Patterns -->
<div class="slide">
    <span class="module-badge">Module 0 - Governance</span>
    <h1>üë§ Human-in-the-Loop: Essential for Banking</h1>
    <p class="subtitle">Balancing Automation with Human Oversight</p>

    <div class="banking-scenario">
        <h4>üè¶ Why HITL Matters in Banking</h4>
        <p>Regulatory requirements, fiduciary duty, and risk management demand human oversight for high-stakes decisions.</p>
    </div>

    <h3>HITL Integration Points</h3>
    <div class="grid-3">
        <div class="card blue">
            <h4>üö¶ Approval Gates</h4>
            <p>Human approves before execution</p>
            <div style="background: white; padding: 10px; border-radius: 8px; margin: 10px 0; text-align: center; font-size: 0.9em;">
                Agent ‚Üí <span style="background: #ff8c00; color: white; padding: 2px 8px; border-radius: 4px;">PAUSE</span> ‚Üí Human ‚Üí Execute
            </div>
            <p style="font-size: 0.85em;"><strong>Use for:</strong> Transactions > $10K, account closures</p>
        </div>
        <div class="card green">
            <h4>‚úèÔ∏è Edit & Confirm</h4>
            <p>Human can modify agent output</p>
            <div style="background: white; padding: 10px; border-radius: 8px; margin: 10px 0; text-align: center; font-size: 0.9em;">
                Agent Draft ‚Üí <span style="background: #107c10; color: white; padding: 2px 8px; border-radius: 4px;">EDIT</span> ‚Üí Send
            </div>
            <p style="font-size: 0.85em;"><strong>Use for:</strong> Customer communications, reports</p>
        </div>
        <div class="card purple">
            <h4>üÜò Escalation</h4>
            <p>Agent recognizes its limits</p>
            <div style="background: white; padding: 10px; border-radius: 8px; margin: 10px 0; text-align: center; font-size: 0.9em;">
                Agent ‚Üí <span style="background: #d13438; color: white; padding: 2px 8px; border-radius: 4px;">ESCALATE</span> ‚Üí Human
            </div>
            <p style="font-size: 0.85em;"><strong>Use for:</strong> Complaints, edge cases, uncertainty</p>
        </div>
    </div>

    <h3 style="margin-top: 20px;">Banking HITL Decision Matrix</h3>
    <table>
        <tr>
            <th>Action Type</th>
            <th>Risk Level</th>
            <th>HITL Requirement</th>
            <th>Example</th>
        </tr>
        <tr>
            <td>Information Query</td>
            <td><span class="highlight green">Low</span></td>
            <td>None</td>
            <td>Balance check, FAQ</td>
        </tr>
        <tr>
            <td>Low-Value Transaction</td>
            <td><span class="highlight green">Low</span></td>
            <td>Audit only</td>
            <td>Transfer < $1,000</td>
        </tr>
        <tr>
            <td>Account Modification</td>
            <td><span class="highlight orange">Medium</span></td>
            <td>Approval gate</td>
            <td>Address change, new card</td>
        </tr>
        <tr>
            <td>High-Value Transaction</td>
            <td><span class="highlight red">High</span></td>
            <td>Dual approval</td>
            <td>Wire > $50,000</td>
        </tr>
        <tr>
            <td>Credit Decision</td>
            <td><span class="highlight red">High</span></td>
            <td>Human final decision</td>
            <td>Loan approval/denial</td>
        </tr>
    </table>
</div>


<!-- SLIDE 12: Module 1 - Agent Taxonomy -->
<div class="slide">
    <span class="module-badge">Module 1 - Theory</span>
    <span class="time-badge">20 Minutes</span>
    <h1>üè∑Ô∏è Agent Taxonomy & Classification</h1>
    <p class="subtitle">Understanding Agent Types for Banking Applications</p>

    <h3>Agent Classification Framework</h3>
    <div class="grid-3">
        <div class="card blue">
            <h4>üéØ By Autonomy Level</h4>
            <ul>
                <li><strong>Reactive:</strong> Responds to inputs</li>
                <li><strong>Deliberative:</strong> Plans before acting</li>
                <li><strong>Autonomous:</strong> Self-directed goals</li>
            </ul>
        </div>
        <div class="card green">
            <h4>üîß By Tool Usage</h4>
            <ul>
                <li><strong>No-tool:</strong> Pure reasoning</li>
                <li><strong>Single-tool:</strong> One capability</li>
                <li><strong>Multi-tool:</strong> Orchestrates many</li>
            </ul>
        </div>
        <div class="card purple">
            <h4>üë• By Collaboration</h4>
            <ul>
                <li><strong>Solo:</strong> Works alone</li>
                <li><strong>Supervised:</strong> Human-in-loop</li>
                <li><strong>Multi-agent:</strong> Agent teams</li>
            </ul>
        </div>
    </div>

    <h3>üè¶ Banking Agent Archetypes</h3>
    <table>
        <tr>
            <th>Archetype</th>
            <th>Autonomy</th>
            <th>Tools</th>
            <th>Banking Use Case</th>
            <th>Risk</th>
        </tr>
        <tr>
            <td><strong>Advisor</strong></td>
            <td>Reactive</td>
            <td>Read-only</td>
            <td>Customer Q&A, product recommendations</td>
            <td><span class="highlight green">Low</span></td>
        </tr>
        <tr>
            <td><strong>Analyst</strong></td>
            <td>Deliberative</td>
            <td>Multi-tool (read)</td>
            <td>Fraud investigation, credit analysis</td>
            <td><span class="highlight orange">Medium</span></td>
        </tr>
        <tr>
            <td><strong>Operator</strong></td>
            <td>Deliberative</td>
            <td>Multi-tool (read/write)</td>
            <td>Account updates, case management</td>
            <td><span class="highlight orange">Med-High</span></td>
        </tr>
        <tr>
            <td><strong>Executor</strong></td>
            <td>Autonomous</td>
            <td>Full access</td>
            <td>Automated trading, payment processing</td>
            <td><span class="highlight red">High</span></td>
        </tr>
    </table>

    <div class="warning-box">
        <span class="icon">‚ö†Ô∏è</span>
        <div>
            <strong>Banking Risk Principle:</strong> Agent autonomy must be inversely proportional to financial impact. High-value transactions require human approval gates.
        </div>
    </div>
</div>


<!-- SLIDE 8: Autonomy Decision Tree -->
<div class="slide">
    <span class="module-badge">Module 1</span>
    <h1>üå≥ Decision Tree: Selecting Agent Autonomy Level</h1>
    <p class="subtitle">Match Agent Capabilities to Risk Tolerance</p>

    <div class="tree-container">
        <div class="tree-row">
            <div class="tree-node tree-decision">ü§î What's the financial impact?</div>
        </div>
        <div class="tree-connector">‚ÜôÔ∏è LOW (&lt;$1K) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HIGH (&gt;$10K) ‚ÜòÔ∏è</div>
        <div class="tree-branch">
            <div style="text-align: center;">
                <div class="tree-node tree-decision">ü§î Is it reversible?</div>
                <div class="tree-connector" style="font-size: 1em;">‚ÜôÔ∏è YES &nbsp;&nbsp;&nbsp;&nbsp; NO ‚ÜòÔ∏è</div>
                <div class="tree-branch" style="gap: 15px;">
                    <div>
                        <div class="tree-node" style="background: #dff6dd; border: 2px solid #107c10;">Level 3-4<br><strong>OPERATOR</strong></div>
                        <small style="display: block; margin-top: 8px;">Can execute with limits</small>
                    </div>
                    <div>
                        <div class="tree-node" style="background: #fff4ce; border: 2px solid #ff8c00;">Level 2<br><strong>ADVISOR</strong></div>
                        <small style="display: block; margin-top: 8px;">Recommend only</small>
                    </div>
                </div>
            </div>
            <div style="text-align: center;">
                <div class="tree-node tree-decision">ü§î Regulatory requirement?</div>
                <div class="tree-connector" style="font-size: 1em;">‚ÜôÔ∏è YES &nbsp;&nbsp;&nbsp;&nbsp; NO ‚ÜòÔ∏è</div>
                <div class="tree-branch" style="gap: 15px;">
                    <div>
                        <div class="tree-node" style="background: #e6f7ff; border: 2px solid #0078d4;">Level 1<br><strong>INFORMER</strong></div>
                        <small style="display: block; margin-top: 8px;">Read-only always</small>
                    </div>
                    <div>
                        <div class="tree-node" style="background: #fff4ce; border: 2px solid #ff8c00;">Level 2-3<br><strong>PREPARER</strong></div>
                        <small style="display: block; margin-top: 8px;">Draft for human review</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <h3>Autonomy Levels in Banking</h3>
    <div style="display: flex; gap: 10px; margin: 20px 0;">
        <div style="flex: 1; text-align: center; padding: 15px; background: #dff6dd; border-radius: 8px; border-top: 4px solid #107c10;">
            <strong>Level 1</strong><br>INFORMER<br><small>Balance inquiry, FAQ</small>
        </div>
        <div style="flex: 1; text-align: center; padding: 15px; background: #e6f7ff; border-radius: 8px; border-top: 4px solid #0078d4;">
            <strong>Level 2</strong><br>ADVISOR<br><small>Product recommendations</small>
        </div>
        <div style="flex: 1; text-align: center; padding: 15px; background: #fff4ce; border-radius: 8px; border-top: 4px solid #ff8c00;">
            <strong>Level 3</strong><br>PREPARER<br><small>Loan application draft</small>
        </div>
        <div style="flex: 1; text-align: center; padding: 15px; background: #fde7e9; border-radius: 8px; border-top: 4px solid #d13438;">
            <strong>Level 4</strong><br>EXECUTOR<br><small>Pre-approved trades</small>
        </div>
    </div>

    <div class="danger-box">
        <span class="icon">üö´</span>
        <div>
            <strong>Level 5 (Fully Autonomous):</strong> Rarely appropriate in banking. Always design for human override capability.
        </div>
    </div>
</div>

<!-- SLIDE 9: Multi-Agent Architecture -->
<div class="slide">
    <span class="module-badge">Module 1</span>
    <h1>üë• Multi-Agent Architecture: Loan Approval</h1>
    <p class="subtitle">When One Agent Isn't Enough</p>

    <div class="arch-container">
        <!-- Orchestrator -->
        <div class="arch-layer layer-blue">
            <span class="arch-layer-title">üéØ ORCHESTRATOR</span>
            <div class="arch-services">
                <div class="arch-service" style="border-top: 3px solid #0078d4; min-width: 200px;">
                    <div class="arch-service-icon">üéØ</div>
                    <div class="arch-service-name">Orchestrator Agent</div>
                    <div class="arch-service-desc">Coordinates workflow, aggregates results</div>
                </div>
            </div>
        </div>
        
        <div class="arch-connector">‚¨áÔ∏è Spawns parallel agents</div>
        
        <!-- Specialist Agents -->
        <div class="arch-layer layer-purple">
            <span class="arch-layer-title">ü§ñ SPECIALIST AGENTS (Parallel)</span>
            <div class="arch-services">
                <div class="arch-service" style="border-top: 3px solid #0078d4;">
                    <div class="arch-service-icon">üìä</div>
                    <div class="arch-service-name">Credit Analyst</div>
                    <div class="arch-service-desc">Credit history, debt ratios</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #107c10;">
                    <div class="arch-service-icon">üí∞</div>
                    <div class="arch-service-name">Income Verifier</div>
                    <div class="arch-service-desc">Employment, tax returns</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #8764b8;">
                    <div class="arch-service-icon">üîí</div>
                    <div class="arch-service-name">Compliance Agent</div>
                    <div class="arch-service-desc">KYC, sanctions, PEP</div>
                </div>
            </div>
        </div>
        
        <div class="arch-connector">‚¨áÔ∏è Results aggregated</div>
        
        <!-- Decision -->
        <div class="arch-layer layer-green">
            <span class="arch-layer-title">‚öñÔ∏è DECISION</span>
            <div class="arch-services">
                <div class="arch-service" style="border-top: 3px solid #ff8c00; min-width: 200px;">
                    <div class="arch-service-icon">‚öñÔ∏è</div>
                    <div class="arch-service-name">Decision Synthesizer</div>
                    <div class="arch-service-desc">Weighs inputs, generates recommendation</div>
                </div>
            </div>
        </div>
    </div>

    <div class="grid-2" style="margin-top: 20px;">
        <div class="success-box">
            <span class="icon">‚úÖ</span>
            <div><strong>Benefits:</strong> Specialized expertise ‚Ä¢ Parallel = faster ‚Ä¢ Clear accountability ‚Ä¢ Easy to update individual agents</div>
        </div>
        <div class="warning-box">
            <span class="icon">‚ö†Ô∏è</span>
            <div><strong>Challenges:</strong> Coordination complexity ‚Ä¢ 4-5x token costs ‚Ä¢ Debugging is hard ‚Ä¢ Consensus needed</div>
        </div>
    </div>
</div>


<!-- SLIDE 10: Module 1 Lab -->
<div class="slide">
    <span class="lab-badge">Module 1 - Lab</span>
    <span class="time-badge">25 Minutes</span>
    <h1>üî¨ Lab: Build Agent Archetypes</h1>
    <p class="subtitle">Hands-On: Implement Different Agent Types</p>

    <div class="notebook-header">
        <span>üìì</span> <strong>02_agent_taxonomy.ipynb</strong> <span class="colab-badge" style="margin-left: auto;">Open in Colab</span>
    </div>
    <div class="notebook-cell code"><span class="comment"># Define tools with different permission levels</span>
tools_read_only = [
    {<span class="string">"type"</span>: <span class="string">"function"</span>, <span class="string">"function"</span>: {
        <span class="string">"name"</span>: <span class="string">"get_account_balance"</span>,
        <span class="string">"description"</span>: <span class="string">"Get current account balance (read-only)"</span>
    }},
    {<span class="string">"type"</span>: <span class="string">"function"</span>, <span class="string">"function"</span>: {
        <span class="string">"name"</span>: <span class="string">"get_transaction_history"</span>,
        <span class="string">"description"</span>: <span class="string">"Get recent transactions (read-only)"</span>
    }}
]

tools_read_write = tools_read_only + [
    {<span class="string">"type"</span>: <span class="string">"function"</span>, <span class="string">"function"</span>: {
        <span class="string">"name"</span>: <span class="string">"create_support_ticket"</span>,
        <span class="string">"description"</span>: <span class="string">"Create a support ticket (write operation)"</span>
    }}
]</div>

    <div class="notebook-cell code"><span class="comment"># Create agents with different autonomy levels</span>
<span class="keyword">def</span> <span class="function">create_agent</span>(level: int, tools: list):
    prompts = {
        1: <span class="string">"You can ONLY provide information. Never make changes."</span>,
        2: <span class="string">"You can provide information AND make recommendations."</span>,
        3: <span class="string">"You can look up info and create support tickets."</span>
    }
    <span class="keyword">return</span> {<span class="string">"system_prompt"</span>: prompts[level], <span class="string">"tools"</span>: tools, <span class="string">"level"</span>: level}

<span class="comment"># Test same query with different agent types</span>
query = <span class="string">"I think there's a fraudulent charge on my account for $500"</span>

<span class="keyword">for</span> level, tools <span class="keyword">in</span> [(1, tools_read_only), (2, tools_read_only), (3, tools_read_write)]:
    agent = create_agent(level, tools)
    response = client.chat.completions.create(
        model=<span class="string">"gpt-4o"</span>,
        messages=[
            {<span class="string">"role"</span>: <span class="string">"system"</span>, <span class="string">"content"</span>: agent[<span class="string">"system_prompt"</span>]},
            {<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: query}
        ],
        tools=agent[<span class="string">"tools"</span>]
    )
    print(f<span class="string">"Level {level}: {response.choices[0].message.tool_calls}"</span>)</div>
    <div class="notebook-cell output">Level 1: [get_transaction_history] ‚Üí Only looks up information
Level 2: [get_transaction_history] ‚Üí Looks up AND recommends disputing
Level 3: [get_transaction_history, create_support_ticket] ‚Üí Creates ticket automatically</div>

    <div class="tip-box">
        <span class="icon">üéØ</span>
        <div>
            <strong>Exercise:</strong> Create a Level 4 "Executor" agent that can initiate a dispute. What guardrails would you add? (Hint: amount limits, confirmation step)
        </div>
    </div>
</div>

<!-- SLIDE 11: Module 2 - Planning Patterns -->
<div class="slide">
    <span class="module-badge">Module 2 - Theory</span>
    <span class="time-badge">30 Minutes</span>
    <h1>üß≠ Planning Patterns: ReAct, Plan-Execute, Tree-of-Thought</h1>
    <p class="subtitle">How Agents Decide What to Do Next</p>

    <h3>Planning Pattern Comparison</h3>
    <table>
        <tr>
            <th>Pattern</th>
            <th>How It Works</th>
            <th>Best For</th>
            <th>LLM Calls</th>
            <th>Cost</th>
        </tr>
        <tr>
            <td><strong>ReAct</strong></td>
            <td>Think ‚Üí Act ‚Üí Observe ‚Üí Repeat</td>
            <td>Dynamic, exploratory tasks</td>
            <td>5-15</td>
            <td>~$0.05-0.15</td>
        </tr>
        <tr>
            <td><strong>Plan-Execute</strong></td>
            <td>Plan all steps ‚Üí Execute sequentially</td>
            <td>Structured, predictable tasks</td>
            <td>2-4</td>
            <td>~$0.02-0.04</td>
        </tr>
        <tr>
            <td><strong>Tree-of-Thought</strong></td>
            <td>Explore multiple paths ‚Üí Select best</td>
            <td>Complex reasoning, high stakes</td>
            <td>10-50</td>
            <td>~$0.10-0.50</td>
        </tr>
    </table>

    <h3>Visual Pattern Comparison</h3>
    <div class="grid-3">
        <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; text-align: center;">
            <h4 style="color: #0078d4;">üîÑ ReAct</h4>
            <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0;">
                <div style="background: #0078d4; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">Think</div>
                <div style="font-size: 1.5em;">‚Üì</div>
                <div style="background: #107c10; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">Act</div>
                <div style="font-size: 1.5em;">‚Üì</div>
                <div style="background: #ff8c00; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">Observe</div>
                <div style="font-size: 1.5em;">‚Üª</div>
            </div>
            <small>Loop until done</small>
        </div>
        <div style="background: #f0fff0; padding: 20px; border-radius: 10px; text-align: center;">
            <h4 style="color: #107c10;">üìã Plan-Execute</h4>
            <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0;">
                <div style="background: #107c10; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">Plan All Steps</div>
                <div style="font-size: 1.5em;">‚Üì</div>
                <div style="background: #0078d4; color: white; padding: 5px; border-radius: 4px; margin: 3px 0; font-size: 0.9em;">Step 1</div>
                <div style="background: #0078d4; color: white; padding: 5px; border-radius: 4px; margin: 3px 0; font-size: 0.9em;">Step 2</div>
                <div style="background: #0078d4; color: white; padding: 5px; border-radius: 4px; margin: 3px 0; font-size: 0.9em;">Step 3</div>
            </div>
            <small>Execute in order</small>
        </div>
        <div style="background: #f8f0ff; padding: 20px; border-radius: 10px; text-align: center;">
            <h4 style="color: #8764b8;">üå≥ Tree-of-Thought</h4>
            <div style="background: white; padding: 15px; border-radius: 8px; margin: 10px 0;">
                <div style="background: #8764b8; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">Problem</div>
                <div style="display: flex; justify-content: center; gap: 5px; margin: 5px 0;">
                    <div style="background: #d4c4e8; padding: 5px 8px; border-radius: 4px; font-size: 0.8em;">A</div>
                    <div style="background: #d4c4e8; padding: 5px 8px; border-radius: 4px; font-size: 0.8em;">B</div>
                    <div style="background: #d4c4e8; padding: 5px 8px; border-radius: 4px; font-size: 0.8em;">C</div>
                </div>
                <div style="font-size: 1.5em;">‚Üì</div>
                <div style="background: #107c10; color: white; padding: 8px; border-radius: 4px; margin: 5px 0;">Best</div>
            </div>
            <small>Evaluate & select</small>
        </div>
    </div>
</div>


<!-- SLIDE 12: Planning Pattern Decision Tree -->
<div class="slide">
    <span class="module-badge">Module 2</span>
    <h1>üå≥ Decision Tree: Selecting Planning Pattern</h1>
    <p class="subtitle">Choose the Right Pattern for Your Banking Use Case</p>

    <div class="tree-container">
        <div class="tree-row">
            <div class="tree-node tree-decision">ü§î Is the task structure known upfront?</div>
        </div>
        <div class="tree-connector">‚ÜôÔ∏è YES &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NO ‚ÜòÔ∏è</div>
        <div class="tree-branch">
            <div style="text-align: center;">
                <div class="tree-node" style="background: #dff6dd; border: 2px solid #107c10;">üìã <strong>Plan-Execute</strong></div>
                <div style="margin-top: 15px; font-size: 0.9em; background: #f0fff0; padding: 15px; border-radius: 8px; text-align: left;">
                    <strong>Best for:</strong><br>
                    ‚Ä¢ Account opening workflow<br>
                    ‚Ä¢ Loan application processing<br>
                    ‚Ä¢ KYC verification<br>
                    ‚Ä¢ Dispute resolution
                </div>
            </div>
            <div style="text-align: center;">
                <div class="tree-node tree-decision">ü§î Are stakes high?<br><small>Credit decisions, large amounts?</small></div>
                <div class="tree-connector" style="font-size: 1em;">‚ÜôÔ∏è YES &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NO ‚ÜòÔ∏è</div>
                <div class="tree-branch" style="gap: 20px;">
                    <div>
                        <div class="tree-node" style="background: #f8f0ff; border: 2px solid #8764b8;">üå≥ <strong>Tree-of-Thought</strong></div>
                        <div style="margin-top: 10px; font-size: 0.85em; background: #f8f0ff; padding: 12px; border-radius: 8px;">
                            ‚Ä¢ Credit limit decisions<br>
                            ‚Ä¢ Investment advice<br>
                            ‚Ä¢ Risk assessment
                        </div>
                    </div>
                    <div>
                        <div class="tree-node" style="background: #e6f7ff; border: 2px solid #0078d4;">üîÑ <strong>ReAct</strong></div>
                        <div style="margin-top: 10px; font-size: 0.85em; background: #e6f7ff; padding: 12px; border-radius: 8px;">
                            ‚Ä¢ Fraud investigation<br>
                            ‚Ä¢ Customer complaints<br>
                            ‚Ä¢ Ad-hoc analysis
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="warning-box" style="margin-top: 20px;">
        <span class="icon">üí∞</span>
        <div>
            <strong>Cost Reality Check (10,000 daily tasks):</strong><br>
            ‚Ä¢ <strong>Plan-Execute:</strong> $200-400/day (2-4 LLM calls each)<br>
            ‚Ä¢ <strong>ReAct:</strong> $500-1,500/day (5-15 LLM calls each)<br>
            ‚Ä¢ <strong>Tree-of-Thought:</strong> $1,000-5,000/day (10-50 LLM calls each)
        </div>
    </div>
</div>

<!-- SLIDE 13: ReAct Pattern Visual -->
<div class="slide">
    <span class="module-badge">Module 2</span>
    <h1>üîÑ ReAct Pattern: Fraud Investigation</h1>
    <p class="subtitle">Visual Walkthrough: Reasoning + Acting Loop</p>

    <div class="banking-scenario">
        <h4>üè¶ Scenario: Suspicious Wire Transfer Alert</h4>
        <p>A $45,000 wire transfer to an overseas account has been flagged. The agent must investigate.</p>
    </div>

    <div class="vsteps">
        <div class="vstep">
            <div class="vstep-num" style="background: #0078d4;">T1</div>
            <div class="vstep-content" style="background: #e6f7ff; border-left: 4px solid #0078d4;">
                <h4>üß† THOUGHT</h4>
                <p>"I need to check the customer's transaction history to understand their normal patterns."</p>
            </div>
        </div>
        <div class="vstep-connector"></div>
        <div class="vstep">
            <div class="vstep-num" style="background: #107c10;">A1</div>
            <div class="vstep-content" style="background: #dff6dd; border-left: 4px solid #107c10;">
                <h4>‚ö° ACTION</h4>
                <p><code>get_transaction_history(customer_id="C-789", days=90)</code></p>
            </div>
        </div>
        <div class="vstep-connector"></div>
        <div class="vstep">
            <div class="vstep-num" style="background: #ff8c00;">O1</div>
            <div class="vstep-content" style="background: #fff8f0; border-left: 4px solid #ff8c00;">
                <h4>üëÅÔ∏è OBSERVATION</h4>
                <p>Average: $2,500 | Max: $8,000 | International transfers: 0</p>
            </div>
        </div>
        <div class="vstep-connector"></div>
        <div class="vstep">
            <div class="vstep-num" style="background: #0078d4;">T2</div>
            <div class="vstep-content" style="background: #e6f7ff; border-left: 4px solid #0078d4;">
                <h4>üß† THOUGHT</h4>
                <p>"This is 18x their average and first international transfer. Let me check for recent account changes..."</p>
            </div>
        </div>
        <div class="vstep-connector"></div>
        <div class="vstep">
            <div class="vstep-num" style="background: #d13438;">F</div>
            <div class="vstep-content" style="background: #fde7e9; border-left: 4px solid #d13438;">
                <h4>üéØ FINAL RECOMMENDATION</h4>
                <p><strong>HIGH RISK - BLOCK IMMEDIATELY.</strong> Account takeover indicators: credential changes + unusual transfer pattern.</p>
            </div>
        </div>
    </div>

    <div class="tip-box">
        <span class="icon">üí°</span>
        <div>
            <strong>ReAct Advantage:</strong> The agent discovered credential changes through investigation - this wasn't in the original alert. ReAct allows emergent investigation paths.
        </div>
    </div>
</div>


<!-- SLIDE 14: Module 2 Lab -->
<div class="slide">
    <span class="lab-badge">Module 2 - Lab</span>
    <span class="time-badge">30 Minutes</span>
    <h1>üî¨ Lab: Implement Planning Patterns</h1>
    <p class="subtitle">Hands-On: Build ReAct and Plan-Execute Agents</p>

    <div class="notebook-header">
        <span>üìì</span> <strong>03_planning_patterns.ipynb</strong> <span class="azure-badge" style="margin-left: auto;">Azure AI Foundry</span>
    </div>
    <div class="notebook-cell code"><span class="comment"># ReAct Pattern Implementation</span>
<span class="keyword">def</span> <span class="function">react_agent</span>(query: str, tools: list, max_iterations: int = 5) -> dict:
    <span class="string">"""ReAct: Reasoning and Acting loop"""</span>
    messages = [{
        <span class="string">"role"</span>: <span class="string">"system"</span>,
        <span class="string">"content"</span>: <span class="string">"""You are a fraud investigator. For each step:
        1. THOUGHT: Explain your reasoning
        2. ACTION: Call a tool to gather information
        3. OBSERVATION: Analyze the result
        Repeat until you can make a recommendation."""</span>
    }, {<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: query}]
    
    trace = []  <span class="comment"># Audit trail</span>
    
    <span class="keyword">for</span> i <span class="keyword">in</span> range(max_iterations):
        response = client.chat.completions.create(
            model=<span class="string">"gpt-4o"</span>, messages=messages, tools=tools
        )
        msg = response.choices[0].message
        
        <span class="keyword">if</span> msg.tool_calls:
            <span class="keyword">for</span> tc <span class="keyword">in</span> msg.tool_calls:
                result = execute_tool(tc.function.name, tc.function.arguments)
                trace.append({<span class="string">"thought"</span>: msg.content, <span class="string">"action"</span>: tc.function.name, <span class="string">"observation"</span>: result})
                messages.append({<span class="string">"role"</span>: <span class="string">"tool"</span>, <span class="string">"tool_call_id"</span>: tc.id, <span class="string">"content"</span>: json.dumps(result)})
        <span class="keyword">else</span>:
            <span class="keyword">return</span> {<span class="string">"recommendation"</span>: msg.content, <span class="string">"trace"</span>: trace}
    
    <span class="keyword">return</span> {<span class="string">"recommendation"</span>: <span class="string">"Max iterations"</span>, <span class="string">"trace"</span>: trace}</div>

    <div class="notebook-cell code"><span class="comment"># Test ReAct Agent</span>
alert = <span class="string">"FRAUD ALERT: Customer C-789, Wire transfer $45,000 to overseas account"</span>
result = react_agent(alert, fraud_tools)

print(<span class="string">"=== ReAct Trace ==="</span>)
<span class="keyword">for</span> step <span class="keyword">in</span> result[<span class="string">"trace"</span>]:
    print(f<span class="string">"Thought: {step['thought'][:50]}..."</span>)
    print(f<span class="string">"Action: {step['action']}"</span>)
    print(f<span class="string">"Observation: {step['observation']}\n"</span>)</div>
    <div class="notebook-cell output">=== ReAct Trace ===
Thought: I need to check the customer's transaction history...
Action: get_transaction_history
Observation: {'avg': 2500, 'max': 8000, 'international': 0}

Thought: This is highly unusual. Let me check account changes...
Action: get_account_changes
Observation: {'email_changed': '3 days ago', 'password_reset': '2 days ago'}

=== Final Recommendation ===
<span style="color: #d13438; font-weight: bold;">HIGH RISK - BLOCK IMMEDIATELY. Account takeover indicators detected.</span></div>

    <div class="tip-box">
        <span class="icon">üéØ</span>
        <div>
            <strong>Exercise:</strong> Implement a Plan-Execute agent for dispute resolution. Compare the number of LLM calls and total cost.
        </div>
    </div>
</div>

<!-- SLIDE 15: Module 3 - Memory Systems -->
<div class="slide">
    <span class="module-badge">Module 3 - Theory</span>
    <span class="time-badge">25 Minutes</span>
    <h1>üß† Memory Systems & State Management</h1>
    <p class="subtitle">How Agents Remember and Learn</p>

    <h3>Memory Types in Agent Systems</h3>
    <div class="grid-3">
        <div class="card blue">
            <h4>‚ö° Short-Term Memory</h4>
            <p><strong>Scope:</strong> Current conversation</p>
            <p><strong>Storage:</strong> Context window</p>
            <p><strong>Lifetime:</strong> Session only</p>
            <div class="banking-scenario" style="margin-top: 10px; padding: 10px;">
                <p><em>"You mentioned earlier you want to transfer $5,000..."</em></p>
            </div>
        </div>
        <div class="card green">
            <h4>üìö Long-Term Memory</h4>
            <p><strong>Scope:</strong> Persistent knowledge</p>
            <p><strong>Storage:</strong> Vector DB / SQL</p>
            <p><strong>Lifetime:</strong> Permanent</p>
            <div class="banking-scenario" style="margin-top: 10px; padding: 10px;">
                <p><em>"Based on your history, you prefer wire transfers..."</em></p>
            </div>
        </div>
        <div class="card purple">
            <h4>üé¨ Episodic Memory</h4>
            <p><strong>Scope:</strong> Past interactions</p>
            <p><strong>Storage:</strong> Indexed logs</p>
            <p><strong>Lifetime:</strong> Configurable</p>
            <div class="banking-scenario" style="margin-top: 10px; padding: 10px;">
                <p><em>"Last month you asked about mortgage rates..."</em></p>
            </div>
        </div>
    </div>

    <h3>Memory Backend Options</h3>
    <table>
        <tr><th>Backend</th><th>Best For</th><th>Azure Service</th><th>Cost</th></tr>
        <tr><td><strong>In-Memory</strong></td><td>Short-term, single session</td><td>Redis Cache</td><td>$</td></tr>
        <tr><td><strong>Vector DB</strong></td><td>Semantic search, similarity</td><td>Azure AI Search</td><td>$$</td></tr>
        <tr><td><strong>SQL/NoSQL</strong></td><td>Structured data, transactions</td><td>Cosmos DB</td><td>$$</td></tr>
    </table>
</div>


<!-- SLIDE 16: Memory Architecture Visual -->
<div class="slide">
    <span class="module-badge">Module 3</span>
    <h1>üèóÔ∏è Banking Agent Memory Architecture</h1>
    <p class="subtitle">Visual: How Memory Components Work Together</p>

    <div class="arch-container">
        <div class="arch-layer layer-blue">
            <span class="arch-layer-title">‚ö° SHORT-TERM MEMORY</span>
            <div class="arch-services">
                <div class="arch-service" style="border-top: 3px solid #0078d4;">
                    <div class="arch-service-icon">üí¨</div>
                    <div class="arch-service-name">Current Session</div>
                    <div class="arch-service-desc">Context window, auth status</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #0078d4;">
                    <div class="arch-service-icon">üéØ</div>
                    <div class="arch-service-name">Current Intent</div>
                    <div class="arch-service-desc">What user is trying to do</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #0078d4;">
                    <div class="arch-service-icon">üìä</div>
                    <div class="arch-service-name">Working Data</div>
                    <div class="arch-service-desc">Balance, recent lookups</div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 10px;"><span class="highlight">TTL: Session End</span></div>
        </div>
        
        <div class="arch-connector">‚¨áÔ∏è</div>
        
        <div class="arch-layer layer-green">
            <span class="arch-layer-title">üìö LONG-TERM MEMORY (Azure AI Search)</span>
            <div class="arch-services">
                <div class="arch-service" style="border-top: 3px solid #107c10;">
                    <div class="arch-service-icon">‚öñÔ∏è</div>
                    <div class="arch-service-name">Risk Tolerance</div>
                    <div class="arch-service-desc">Conservative/Aggressive</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #107c10;">
                    <div class="arch-service-icon">üì±</div>
                    <div class="arch-service-name">Preferences</div>
                    <div class="arch-service-desc">Channels, communication</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #107c10;">
                    <div class="arch-service-icon">üè¶</div>
                    <div class="arch-service-name">Product History</div>
                    <div class="arch-service-desc">Accounts, loans, cards</div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 10px;"><span class="highlight green">TTL: Permanent</span></div>
        </div>
        
        <div class="arch-connector">‚¨áÔ∏è</div>
        
        <div class="arch-layer layer-purple">
            <span class="arch-layer-title">üé¨ EPISODIC MEMORY (Cosmos DB)</span>
            <div class="arch-services">
                <div class="arch-service" style="border-top: 3px solid #8764b8;">
                    <div class="arch-service-icon">üìã</div>
                    <div class="arch-service-name">Past Disputes</div>
                    <div class="arch-service-desc">Resolution history</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #8764b8;">
                    <div class="arch-service-icon">üí≥</div>
                    <div class="arch-service-name">Previous Loans</div>
                    <div class="arch-service-desc">Applications, outcomes</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #8764b8;">
                    <div class="arch-service-icon">üé´</div>
                    <div class="arch-service-name">Support Tickets</div>
                    <div class="arch-service-desc">Complaints, resolutions</div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 10px;"><span class="highlight purple">TTL: 7 Years (Regulatory)</span></div>
        </div>
    </div>

    <div class="grid-2" style="margin-top: 20px;">
        <div class="card red">
            <h4>üîí MUST Store (Compliance)</h4>
            <ul>
                <li>Agent decisions with reasoning</li>
                <li>Customer consent records</li>
                <li>Audit trail of tool calls</li>
            </ul>
        </div>
        <div class="card orange">
            <h4>‚ö†Ô∏è MUST NOT Store</h4>
            <ul>
                <li>Full credit card numbers</li>
                <li>Passwords, PINs, SSN plain text</li>
                <li>Raw PII in conversation logs</li>
            </ul>
        </div>
    </div>
</div>

<!-- SLIDE 17: Module 3 Lab -->
<div class="slide">
    <span class="lab-badge">Module 3 - Lab</span>
    <span class="time-badge">20 Minutes</span>
    <h1>üî¨ Lab: Build a Memory-Enabled Agent</h1>
    <p class="subtitle">Hands-On: Implement Multi-Turn Conversation Memory</p>

    <div class="notebook-header">
        <span>üìì</span> <strong>04_memory_systems.ipynb</strong> <span class="jupyter-badge" style="margin-left: auto;">JupyterLab</span>
    </div>
    <div class="notebook-cell code"><span class="comment"># Memory Manager for Banking Agent</span>
<span class="keyword">class</span> <span class="function">BankingMemoryManager</span>:
    <span class="keyword">def</span> <span class="function">__init__</span>(self):
        self.short_term = []   <span class="comment"># Current session</span>
        self.long_term = {}    <span class="comment"># Customer preferences</span>
        self.episodic = []     <span class="comment"># Past interactions</span>
    
    <span class="keyword">def</span> <span class="function">add_message</span>(self, message: dict):
        self.short_term.append(message)
        <span class="keyword">if</span> len(self.short_term) > 10:  <span class="comment"># Manage context window</span>
            self.short_term = self.short_term[-10:]
    
    <span class="keyword">def</span> <span class="function">get_customer_context</span>(self, customer_id: str) -> str:
        prefs = self.long_term.get(customer_id, {})
        <span class="keyword">return</span> f<span class="string">"Risk: {prefs.get('risk', 'unknown')}, Channel: {prefs.get('channel', 'unknown')}"</span>
    
    <span class="keyword">def</span> <span class="function">build_context</span>(self, customer_id: str) -> list:
        context = self.get_customer_context(customer_id)
        system_msg = f<span class="string">"You are a banking assistant.\n\nCustomer context: {context}"</span>
        <span class="keyword">return</span> [{<span class="string">"role"</span>: <span class="string">"system"</span>, <span class="string">"content"</span>: system_msg}] + self.short_term</div>

    <div class="notebook-cell code"><span class="comment"># Test Memory-Enabled Agent</span>
memory = BankingMemoryManager()
memory.long_term[<span class="string">"C-123"</span>] = {<span class="string">"risk"</span>: <span class="string">"conservative"</span>, <span class="string">"channel"</span>: <span class="string">"mobile"</span>}
memory.episodic.append({<span class="string">"date"</span>: <span class="string">"2024-01"</span>, <span class="string">"summary"</span>: <span class="string">"Asked about mortgage, decided to wait"</span>})

<span class="comment"># Multi-turn conversation</span>
memory.add_message({<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: <span class="string">"What's my balance?"</span>})
memory.add_message({<span class="string">"role"</span>: <span class="string">"assistant"</span>, <span class="string">"content"</span>: <span class="string">"Your balance is $5,432"</span>})
memory.add_message({<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: <span class="string">"I want to invest some of that"</span>})

response = client.chat.completions.create(
    model=<span class="string">"gpt-4o"</span>, messages=memory.build_context(<span class="string">"C-123"</span>)
)
print(response.choices[0].message.content)</div>
    <div class="notebook-cell output">Based on your conservative risk tolerance and the fact that you mentioned waiting on 
the mortgage last month, I'd recommend starting with a high-yield savings account 
rather than market investments. Our current CD rates are 4.5% APY for 12-month terms.

<span style="color: #6a9955;">// Agent used long-term memory (risk tolerance) and episodic memory (mortgage inquiry)</span></div>

    <div class="tip-box">
        <span class="icon">üéØ</span>
        <div>
            <strong>Exercise:</strong> Add PII detection to mask SSN and account numbers before storing in episodic memory.
        </div>
    </div>
</div>


<!-- SLIDE 18: Module 4 - RAG Fundamentals -->
<div class="slide">
    <span class="module-badge">Module 4 - Theory</span>
    <span class="time-badge">30 Minutes</span>
    <h1>üîç RAG Fundamentals & Vector Databases</h1>
    <p class="subtitle">Semantic Search with Azure AI Search and Embeddings</p>

    <h3>What is RAG (Retrieval-Augmented Generation)?</h3>
    <div class="pipeline">
        <div class="pipeline-step blue">
            <span class="pipeline-label">STEP 1</span>
            üìù Query
            <small>User question</small>
        </div>
        <div class="pipeline-step purple">
            <span class="pipeline-label">STEP 2</span>
            üî¢ Embed
            <small>Convert to vector</small>
        </div>
        <div class="pipeline-step orange">
            <span class="pipeline-label">STEP 3</span>
            üîç Search
            <small>Find similar docs</small>
        </div>
        <div class="pipeline-step green">
            <span class="pipeline-label">STEP 4</span>
            üìÑ Retrieve
            <small>Get context</small>
        </div>
        <div class="pipeline-step red">
            <span class="pipeline-label">STEP 5</span>
            ü§ñ Generate
            <small>LLM response</small>
        </div>
    </div>

    <div class="grid-2">
        <div class="card blue">
            <h4>üî¢ Tokenization & Embeddings</h4>
            <ul>
                <li><strong>Tokenization:</strong> Split text into tokens (words/subwords)</li>
                <li><strong>Embeddings:</strong> Convert tokens to dense vectors</li>
                <li><strong>Dimensions:</strong> text-embedding-ada-002 = 1536 dims</li>
                <li><strong>Similarity:</strong> Cosine similarity for matching</li>
            </ul>
        </div>
        <div class="card green">
            <h4>üóÑÔ∏è Vector Database Options</h4>
            <ul>
                <li><strong>Azure AI Search:</strong> Native Azure, hybrid search</li>
                <li><strong>Azure Cosmos DB:</strong> Vector search + NoSQL</li>
                <li><strong>FAISS:</strong> Open-source, in-memory</li>
                <li><strong>Pinecone:</strong> Managed, serverless</li>
            </ul>
        </div>
    </div>

    <div class="tip-box" style="margin-top: 15px;">
        <span class="icon">üí°</span>
        <div>
            <strong>Why RAG for Banking?</strong> Keep knowledge current (policies, rates), provide source citations for compliance, and avoid hallucinations with grounded responses.
        </div>
    </div>
</div>

<!-- SLIDE 19: Azure AI Search Architecture -->
<div class="slide">
    <span class="module-badge">Module 4</span>
    <h1>‚òÅÔ∏è Azure AI Search for Banking RAG</h1>
    <p class="subtitle">Building Vector Databases with Azure-Native Tools</p>

    <div class="arch-container">
        <div class="arch-layer layer-blue">
            <span class="arch-layer-title">üìÑ DOCUMENT SOURCES</span>
            <div class="arch-services">
                <div class="arch-service" style="border-top: 3px solid #0078d4;">
                    <div class="arch-service-icon">üìã</div>
                    <div class="arch-service-name">Policy Docs</div>
                    <div class="arch-service-desc">Compliance, procedures</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #0078d4;">
                    <div class="arch-service-icon">üí∞</div>
                    <div class="arch-service-name">Product Info</div>
                    <div class="arch-service-desc">Rates, terms, features</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #0078d4;">
                    <div class="arch-service-icon">‚ùì</div>
                    <div class="arch-service-name">FAQ Database</div>
                    <div class="arch-service-desc">Common questions</div>
                </div>
            </div>
        </div>
        
        <div class="arch-connector">‚¨áÔ∏è Chunk & Embed (Azure OpenAI)</div>
        
        <div class="arch-layer layer-purple">
            <span class="arch-layer-title">üîç AZURE AI SEARCH INDEX</span>
            <div class="arch-services">
                <div class="arch-service" style="border-top: 3px solid #8764b8;">
                    <div class="arch-service-icon">üî¢</div>
                    <div class="arch-service-name">Vector Field</div>
                    <div class="arch-service-desc">Semantic similarity</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #8764b8;">
                    <div class="arch-service-icon">üìù</div>
                    <div class="arch-service-name">Text Field</div>
                    <div class="arch-service-desc">Keyword search</div>
                </div>
                <div class="arch-service" style="border-top: 3px solid #8764b8;">
                    <div class="arch-service-icon">üè∑Ô∏è</div>
                    <div class="arch-service-name">Metadata</div>
                    <div class="arch-service-desc">Filters, facets</div>
                </div>
            </div>
        </div>
        
        <div class="arch-connector">‚¨áÔ∏è Hybrid Search (Vector + Keyword)</div>
        
        <div class="arch-layer layer-green">
            <span class="arch-layer-title">ü§ñ AGENT RESPONSE</span>
            <div class="arch-services">
                <div class="arch-service" style="border-top: 3px solid #107c10; min-width: 300px;">
                    <div class="arch-service-icon">üí¨</div>
                    <div class="arch-service-name">Grounded Response</div>
                    <div class="arch-service-desc">Answer with source citations</div>
                </div>
            </div>
        </div>
    </div>

    <div class="grid-2" style="margin-top: 15px;">
        <div class="card orange">
            <h4>üîÄ Hybrid Search Benefits</h4>
            <ul>
                <li>Semantic: "How do I dispute a charge?" ‚Üí finds "transaction reversal"</li>
                <li>Keyword: Exact matches for account numbers, policy IDs</li>
                <li>Combined: Best of both worlds</li>
            </ul>
        </div>
        <div class="card purple">
            <h4>üìä Chunking Strategies</h4>
            <ul>
                <li><strong>Fixed size:</strong> 512 tokens with 50 overlap</li>
                <li><strong>Semantic:</strong> By paragraph/section</li>
                <li><strong>Recursive:</strong> Split on headers, then paragraphs</li>
            </ul>
        </div>
    </div>
</div>

<!-- SLIDE 20: Embedding Types & Selection -->
<div class="slide">
    <span class="module-badge">Module 4</span>
    <h1>üî¢ Embedding Types & Selection</h1>
    <p class="subtitle">Choosing the Right Embedding Model for Banking</p>

    <h3>Azure OpenAI Embedding Models</h3>
    <table>
        <tr>
            <th>Model</th>
            <th>Dimensions</th>
            <th>Max Tokens</th>
            <th>Cost/1M tokens</th>
            <th>Best For</th>
        </tr>
        <tr>
            <td><strong>text-embedding-ada-002</strong></td>
            <td>1536</td>
            <td>8,191</td>
            <td>$0.10</td>
            <td>General purpose</td>
        </tr>
        <tr>
            <td><strong>text-embedding-3-small</strong></td>
            <td>512-1536</td>
            <td>8,191</td>
            <td>$0.02</td>
            <td>Cost-sensitive</td>
        </tr>
        <tr>
            <td><strong>text-embedding-3-large</strong></td>
            <td>256-3072</td>
            <td>8,191</td>
            <td>$0.13</td>
            <td>High accuracy</td>
        </tr>
    </table>

    <h3>Decision Tree: Embedding Selection</h3>
    <div class="tree-container">
        <div class="tree-row">
            <div class="tree-node tree-decision">ü§î Is accuracy critical?</div>
        </div>
        <div class="tree-connector">‚ÜôÔ∏è YES &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NO ‚ÜòÔ∏è</div>
        <div class="tree-branch">
            <div style="text-align: center;">
                <div class="tree-node" style="background: #f8f0ff; border: 2px solid #8764b8;">üéØ <strong>text-embedding-3-large</strong></div>
                <div style="margin-top: 10px; font-size: 0.9em; background: #f8f0ff; padding: 10px; border-radius: 8px;">
                    Compliance docs, legal<br>
                    <small>3072 dimensions</small>
                </div>
            </div>
            <div style="text-align: center;">
                <div class="tree-node tree-decision">ü§î High volume?</div>
                <div class="tree-connector" style="font-size: 1em;">‚ÜôÔ∏è YES &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NO ‚ÜòÔ∏è</div>
                <div class="tree-branch" style="gap: 20px;">
                    <div>
                        <div class="tree-node" style="background: #dff6dd; border: 2px solid #107c10;">üíö <strong>text-embedding-3-small</strong></div>
                        <div style="margin-top: 8px; font-size: 0.85em;">5x cheaper</div>
                    </div>
                    <div>
                        <div class="tree-node" style="background: #e6f7ff; border: 2px solid #0078d4;">üíô <strong>text-embedding-ada-002</strong></div>
                        <div style="margin-top: 8px; font-size: 0.85em;">Proven, stable</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="warning-box" style="margin-top: 15px;">
        <span class="icon">‚ö†Ô∏è</span>
        <div>
            <strong>Banking Tip:</strong> Use the same embedding model for indexing AND querying. Mixing models produces poor results due to different vector spaces.
        </div>
    </div>
</div>

<!-- SLIDE 21: Module 4 Lab -->
<div class="slide">
    <span class="lab-badge">Module 4 - Lab</span>
    <span class="time-badge">25 Minutes</span>
    <h1>üî¨ Lab: Build a Banking RAG Pipeline</h1>
    <p class="subtitle">Hands-On: Azure AI Search + Azure OpenAI Embeddings</p>

    <div class="notebook-header">
        <span>üìì</span> <strong>15_rag_fundamentals.ipynb</strong> <span class="azure-badge" style="margin-left: auto;">Azure AI Search</span>
    </div>
    <div class="notebook-cell code"><span class="comment"># Setup Azure AI Search and OpenAI clients</span>
<span class="keyword">from</span> azure.search.documents <span class="keyword">import</span> SearchClient
<span class="keyword">from</span> azure.search.documents.indexes <span class="keyword">import</span> SearchIndexClient
<span class="keyword">from</span> azure.search.documents.models <span class="keyword">import</span> VectorizedQuery
<span class="keyword">from</span> openai <span class="keyword">import</span> AzureOpenAI

<span class="comment"># Initialize clients</span>
search_client = SearchClient(
    endpoint=os.getenv(<span class="string">"AZURE_SEARCH_ENDPOINT"</span>),
    index_name=<span class="string">"banking-policies"</span>,
    credential=AzureKeyCredential(os.getenv(<span class="string">"AZURE_SEARCH_KEY"</span>))
)

openai_client = AzureOpenAI(
    azure_endpoint=os.getenv(<span class="string">"AZURE_OPENAI_ENDPOINT"</span>),
    api_key=os.getenv(<span class="string">"AZURE_OPENAI_KEY"</span>),
    api_version=<span class="string">"2024-06-01"</span>
)</div>

    <div class="notebook-cell code"><span class="comment"># Create embeddings for banking documents</span>
<span class="keyword">def</span> <span class="function">get_embedding</span>(text: str) -> list:
    response = openai_client.embeddings.create(
        model=<span class="string">"text-embedding-ada-002"</span>,
        input=text
    )
    <span class="keyword">return</span> response.data[0].embedding

<span class="comment"># Sample banking policy documents</span>
documents = [
    {<span class="string">"id"</span>: <span class="string">"1"</span>, <span class="string">"title"</span>: <span class="string">"Dispute Policy"</span>, 
     <span class="string">"content"</span>: <span class="string">"Customers can dispute transactions within 60 days..."</span>},
    {<span class="string">"id"</span>: <span class="string">"2"</span>, <span class="string">"title"</span>: <span class="string">"Wire Transfer Limits"</span>,
     <span class="string">"content"</span>: <span class="string">"Daily wire transfer limit is $50,000 for personal accounts..."</span>},
    {<span class="string">"id"</span>: <span class="string">"3"</span>, <span class="string">"title"</span>: <span class="string">"Fraud Protection"</span>,
     <span class="string">"content"</span>: <span class="string">"Zero liability for unauthorized transactions reported within 2 days..."</span>}
]

<span class="comment"># Add embeddings to documents</span>
<span class="keyword">for</span> doc <span class="keyword">in</span> documents:
    doc[<span class="string">"embedding"</span>] = get_embedding(doc[<span class="string">"content"</span>])</div>

    <div class="notebook-cell code"><span class="comment"># RAG Query Function</span>
<span class="keyword">def</span> <span class="function">rag_query</span>(question: str) -> str:
    <span class="comment"># Step 1: Embed the question</span>
    query_vector = get_embedding(question)
    
    <span class="comment"># Step 2: Hybrid search (vector + keyword)</span>
    results = search_client.search(
        search_text=question,
        vector_queries=[VectorizedQuery(
            vector=query_vector,
            k_nearest_neighbors=3,
            fields=<span class="string">"embedding"</span>
        )],
        top=3
    )
    
    <span class="comment"># Step 3: Build context from results</span>
    context = <span class="string">"\n"</span>.join([f<span class="string">"[{r['title']}]: {r['content']}"</span> <span class="keyword">for</span> r <span class="keyword">in</span> results])
    
    <span class="comment"># Step 4: Generate response with context</span>
    response = openai_client.chat.completions.create(
        model=<span class="string">"gpt-4o"</span>,
        messages=[
            {<span class="string">"role"</span>: <span class="string">"system"</span>, <span class="string">"content"</span>: f<span class="string">"Answer using this context:\n{context}"</span>},
            {<span class="string">"role"</span>: <span class="string">"user"</span>, <span class="string">"content"</span>: question}
        ]
    )
    <span class="keyword">return</span> response.choices[0].message.content

<span class="comment"># Test RAG</span>
answer = rag_query(<span class="string">"How long do I have to report fraud?"</span>)
print(answer)</div>
    <div class="notebook-cell output">Based on our Fraud Protection policy, you have 2 days to report unauthorized 
transactions to qualify for zero liability protection. However, for general 
transaction disputes, you have up to 60 days from the statement date.

<span style="color: #6a9955;">Sources: [Fraud Protection], [Dispute Policy]</span></div>

    <div class="tip-box">
        <span class="icon">üéØ</span>
        <div>
            <strong>Exercise:</strong> Add metadata filtering to only search policies relevant to the customer's account type (personal vs business).
        </div>
    </div>
</div>

<!-- SLIDE 27: Day 1 Summary -->
<div class="slide">
    <h1>üìã Day 1 Summary: Foundations Complete</h1>
    <p class="subtitle">Key Concepts to Carry into Day 2</p>

    <div class="grid-2">
        <div class="card blue">
            <h4>üß† Module 0: Agent vs Workflow</h4>
            <ul>
                <li>Decision authority mental model</li>
                <li>Workflow for deterministic, Agent for reasoning</li>
                <li>Hybrid pattern is production reality</li>
            </ul>
        </div>
        <div class="card green">
            <h4>üè∑Ô∏è Module 1: Agent Taxonomy</h4>
            <ul>
                <li>Autonomy levels (1-5)</li>
                <li>Risk inversely proportional to autonomy</li>
                <li>Multi-agent patterns</li>
            </ul>
        </div>
        <div class="card purple">
            <h4>üß≠ Module 2: Planning Patterns</h4>
            <ul>
                <li>ReAct for exploratory tasks</li>
                <li>Plan-Execute for structured workflows</li>
                <li>Tree-of-Thought for high-stakes decisions</li>
            </ul>
        </div>
        <div class="card orange">
            <h4>üß† Module 3: Memory Systems</h4>
            <ul>
                <li>Short-term, long-term, episodic memory</li>
                <li>Compliance requirements for banking</li>
                <li>PII handling and audit trails</li>
            </ul>
        </div>
        <div class="card red" style="grid-column: span 2;">
            <h4>üîç Module 4: RAG & Vector Databases</h4>
            <ul style="column-count: 2;">
                <li>Tokenization and embeddings fundamentals</li>
                <li>Azure AI Search for semantic search</li>
                <li>Vector database architecture</li>
                <li>Hybrid search (keyword + semantic)</li>
            </ul>
        </div>
    </div>

    <div class="card" style="margin-top: 20px; background: #f0f8ff;">
        <h4>üìì Day 1 Notebooks Completed</h4>
        <table style="margin: 10px 0;">
            <tr><th>Notebook</th><th>Module</th><th>Topic</th></tr>
            <tr><td><code>00_setup.ipynb</code></td><td>Setup</td><td>Azure OpenAI Configuration</td></tr>
            <tr><td><code>01_agent_vs_workflow.ipynb</code></td><td>0</td><td>Agent vs Workflow Comparison</td></tr>
            <tr><td><code>02_agent_taxonomy.ipynb</code></td><td>1</td><td>Agent Types & Classification</td></tr>
            <tr><td><code>03_planning_patterns.ipynb</code></td><td>2</td><td>ReAct & Plan-Execute Patterns</td></tr>
            <tr><td><code>04_memory_systems.ipynb</code></td><td>3</td><td>Memory Systems for Banking</td></tr>
            <tr><td><code>15_rag_fundamentals.ipynb</code></td><td>4</td><td>RAG & Vector Databases</td></tr>
        </table>
    </div>

    <h3>üéØ Day 2 Preview: Frameworks & Production</h3>
    <div class="pipeline" style="margin: 20px 0;">
        <div class="pipeline-step purple">
            <span class="pipeline-label">MODULE 5</span>
            üîß Frameworks
            <small>SK, LangChain</small>
        </div>
        <div class="pipeline-step purple">
            <span class="pipeline-label">MODULE 6</span>
            üõ†Ô∏è Tools
            <small>Orchestration</small>
        </div>
        <div class="pipeline-step blue">
            <span class="pipeline-label">MODULE 7</span>
            ‚òÅÔ∏è Azure
            <small>AI Foundry</small>
        </div>
        <div class="pipeline-step orange">
            <span class="pipeline-label">MODULE 8-12</span>
            üè≠ Production
            <small>Multi-Agent, Resilience</small>
        </div>
    </div>

    <div style="text-align: center; margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #5c2d91, #7b3fa0); border-radius: 12px; color: white;">
        <h2 style="color: white; border: none;">‚úÖ Day 1 Complete!</h2>
        <p style="font-size: 1.1em;">Tomorrow: Implementing these concepts with frameworks and Azure services</p>
    </div>
</div>


<!-- SLIDE 28: References & Further Reading -->
<div class="slide">
    <h1>üìö References & Further Reading</h1>
    <p class="subtitle">Key Resources for Deeper Understanding</p>

    <div class="grid-2">
        <div class="card blue">
            <h4>üîó Anthropic: Building Effective Agents</h4>
            <p style="font-size: 0.9em;">Comprehensive guide on agentic system design patterns, from simple workflows to autonomous agents.</p>
            <ul style="font-size: 0.85em;">
                <li>Workflow patterns (chaining, routing, parallelization)</li>
                <li>When to use agents vs. workflows</li>
                <li>Tool design best practices</li>
                <li>Human-in-the-loop patterns</li>
            </ul>
            <div style="margin-top: 10px; padding: 8px; background: #e6f7ff; border-radius: 4px; font-size: 0.8em;">
                <a href="https://www.anthropic.com/engineering/building-effective-agents" target="_blank">anthropic.com/engineering/building-effective-agents</a>
            </div>
        </div>
        <div class="card purple">
            <h4>üîó Azure: Agent Factory Design Patterns</h4>
            <p style="font-size: 0.9em;">Enterprise patterns for building production-ready AI agents on Azure.</p>
            <ul style="font-size: 0.85em;">
                <li>Multi-agent orchestration patterns</li>
                <li>Supervisor and swarm architectures</li>
                <li>Azure AI Foundry integration</li>
                <li>Enterprise governance patterns</li>
            </ul>
            <div style="margin-top: 10px; padding: 8px; background: #f8f0ff; border-radius: 4px; font-size: 0.8em;">
                <a href="https://azure.microsoft.com/en-us/blog/agent-factory-the-new-era-of-agentic-ai-common-use-cases-and-design-patterns/" target="_blank">azure.microsoft.com/blog/agent-factory</a>
            </div>
        </div>
    </div>

    <h3 style="margin-top: 25px;">Key Takeaways from Industry Research</h3>
    <div class="grid-3">
        <div class="success-box" style="margin: 0;">
            <span class="icon">1Ô∏è‚É£</span>
            <div>
                <strong>Start Simple</strong><br>
                <span style="font-size: 0.9em;">Use workflows before agents. Add complexity only when needed.</span>
            </div>
        </div>
        <div class="success-box" style="margin: 0;">
            <span class="icon">2Ô∏è‚É£</span>
            <div>
                <strong>Design for Humans</strong><br>
                <span style="font-size: 0.9em;">Build approval gates and escalation paths from day one.</span>
            </div>
        </div>
        <div class="success-box" style="margin: 0;">
            <span class="icon">3Ô∏è‚É£</span>
            <div>
                <strong>Tools Matter</strong><br>
                <span style="font-size: 0.9em;">Well-designed tools are more important than complex prompts.</span>
            </div>
        </div>
    </div>

    <div class="card" style="margin-top: 20px; background: #f3f2f1;">
        <h4>üìñ Additional Azure Documentation</h4>
        <ul style="column-count: 2; font-size: 0.9em;">
            <li><a href="https://learn.microsoft.com/azure/ai-services/openai/" target="_blank">Azure OpenAI Service</a></li>
            <li><a href="https://learn.microsoft.com/azure/ai-studio/" target="_blank">Azure AI Foundry (AI Studio)</a></li>
            <li><a href="https://learn.microsoft.com/semantic-kernel/" target="_blank">Semantic Kernel Documentation</a></li>
            <li><a href="https://learn.microsoft.com/azure/cosmos-db/" target="_blank">Azure Cosmos DB</a></li>
            <li><a href="https://learn.microsoft.com/azure/search/" target="_blank">Azure AI Search</a></li>
            <li><a href="https://github.com/microsoft/autogen" target="_blank">AutoGen Multi-Agent Framework</a></li>
        </ul>
    </div>

    <div class="tip-box" style="margin-top: 15px;">
        <span class="icon">üí°</span>
        <div>
            <strong>Pro Tip:</strong> Bookmark these resources. The field evolves rapidly‚Äîpatterns that are cutting-edge today become standard practice tomorrow.
        </div>
    </div>
</div>

</body>
</html>